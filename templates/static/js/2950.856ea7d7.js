"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[2950],{35705:function(e,t,a){a.d(t,{dj:function(){return o},MU:function(){return n},cb:function(){return c},SU:function(){return i}});var s=a(30048);function o(e){return(0,s.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/provider/register",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function n(e){return(0,s.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/provider/get",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function c(e){return(0,s.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/workticketaudit/submit",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function i(e){return(0,s.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/refundpolicy/all",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}},30048:function(e,t,a){a.d(t,{I8:function(){return n},A:function(){return c},ZP:function(){return i}});var s=a(9669),o=a.n(s);const n={username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},c={"Content-Type":"application/json"};function i(e){const t=o().create({baseURL:"",timeout:6e4});return t.interceptors.request.use((e=>e),(e=>{console.log(e)})),t.interceptors.response.use((e=>e.data),(e=>{console.log(e)})),t(e)}},52950:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var s=a(66252);function o(e,t,a,o,n,c){const i=(0,s.up)("router-view"),r=(0,s.up)("Container");return(0,s.wg)(),(0,s.j4)(r,{canDo:!0,title:c.title,setContentStyle:o.setContentStyle,userName:c.getAccount,leftList:o.leftList,topList:o.topList,topNavCheckState:o.topNavCheckState,onChangeState:c.changeState,onExit:c.logout,shadow:o.showShadow,leftNavCheckState:o.leftNavCheckState},{default:(0,s.w5)((()=>[(0,s.Wm)(i,null,{default:(0,s.w5)((({Component:e})=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(e)))])),_:1})])),_:1},8,["title","setContentStyle","userName","leftList","topList","topNavCheckState","onChangeState","onExit","shadow","leftNavCheckState"])}var n=a(76763),c=a(30048),i=a(35705),r=a(12307),h=a(2262),d=a(42482);a(35138);const f=[{name:"default page for provieder agreements",hash:"abcabc",hidden:!0},{name:"营探风险告知书",hash:"0b80f4e40115ee5063f90b1c370b66c2",class:"工作台指引"},{name:"营探用户协议",hash:"6d2182627917deaf79ee081ef4530598",class:"入驻协议"},{name:"营探隐私政策",hash:"17e6e460c5937c117744ce96cef64585",class:"入驻协议"},{name:"营探优惠券使用规则",hash:"e562e8b8235de284f955fd64ed7b1fc0",class:"入驻协议"},{name:"营探平台预订和退费须知",hash:"a3e4dc3825742cc6cd229cbc04397164",class:"入驻协议"},{name:"营探服务商入驻协议及授权条款",hash:"431745540c8fc02ecfb17121ae572fc6",class:"入驻协议"},{name:"营探服务商入驻须知及附件",hash:"984173decc21c26d16ca742443318d6f",class:"入驻协议"},{name:"营探诚信保证金管理规定",hash:"5af47485f47fca034fcc7aa1ffcc31df",class:"入驻协议"},{name:"营探服务商管理办法",hash:"017b85b6600b4a08bff9c9ddb4d9a7de",class:"日常管理"},{name:"营探服务商收费标准",hash:"aef18fd86f4941d44784f78ca80c2bcf",class:"日常管理"},{name:"营探服务商费用核算与结算办法",hash:"77bd398025e55a7576da5e79f50e8f32",class:"日常管理"},{name:"营探服务商培训办法",hash:"3f30c89cc1960630f348bb2e6df5d047",class:"日常管理"},{name:"营探搜索排名规则",hash:"f882f3073d15973c4827c4b114698838",class:"日常管理"},{name:"营探信用评价规则",hash:"c4eae679050656cf3fb9336ea7dc7301",class:"日常管理"},{name:"营探交易争议处理规则",hash:"6ec76c95c168c36652780cc795f3eb76",class:"日常管理"},{name:"营探侵权处理办法",hash:"731edf08b116451f15e3721c1c5d5407",class:"日常管理"},{name:"旅游者人身意外伤害保险条款",hash:"d9a51c6fc00e8fe994630e4bf232dfc4",class:"保险"},{name:"组织者责任保险条款",hash:"6e6f6b9479a609541767b73f8d7f7288",class:"保险"},{name:"附加旅行突发性疾病身故保险条款",hash:"fa7f3a827ac13936d07bf99112194d80",class:"保险"},{name:"附加旅行医疗费用保险条款",hash:"0c5cabaf87a311de79cc45cca62a9c86",class:"保险"},{name:"附加旅行住院津贴保险条款",hash:"1c064528a953f0bea6d9fe85cba6030d",class:"保险"},{name:"附加个人行李及随身物品保险条款",hash:"23c47e2949fe319e3138736c0f2444db",class:"保险"},{name:"附加旅行紧急医疗运送和送返保险条款",hash:"2803f8384a37abb84989ef76b9d68f0f",class:"保险"},{name:"附加旅行身故遗体送返保险条款",hash:"c10ee0a0932b9db2f355acfc7936a49c",class:"保险"},{name:"附加旅行延误保险条款",hash:"1195e463efabc4c1fc3e3d2c1a2fd285",class:"保险"},{name:"附加高风险运动意外伤害保险条款",hash:"fb1e2c7f14a3ae84a8f67ebea9b7e66a",class:"保险"},{name:"附加旅行公共交通工具意外伤害保险条款",hash:"b4a1c81e2fa11228b3331407328b6d8e",class:"保险"},{name:"附加旅行个人责任及宠物责任保险",hash:"41800dc6adf7b3082983654a974f0ea8",class:"保险"},{name:"附加旅行传染病强制隔离补偿保险条款",hash:"e28dac82fe2ac07812ce871f3c9d4496",class:"保险"}],l=[{name:"全部信息",path:"/tools/provider/message/all"},{name:"业务通知",path:"/tools/provider/message/task-notify"},{name:"系统通知",path:"/tools/provider/message/sys-notify"},{name:"资金通知",path:"/tools/provider/message/all"},{name:"活动政策",path:"/tools/provider/message/all"},{name:"test-1",path:"/tools/provider/message/all"}],b=["资金管理","账户总览","账户中心"],u=[r.Xv,r.Du,r.Xu,r.uv];function m({Router:e}){let t=[],a=[];if(e==r.Xv.Router)t=e.map((e=>({name:e.name}))),a=e.map((e=>!1));else{if(e==r.Xu.Router)return t=f,a=f.map((e=>!1)),{leftList:t,leftNavCheckState:a};e==r.uv.Router?(t=l,a=l.map((e=>!1))):e==r.Du.Router&&(t=b,a=b.map((e=>!1)))}return{leftList:t,leftNavCheckState:a}}var p={name:"layout-pro",setup(){const e=[{name:"工作台",message:""},{name:"资管系统",message:"开发中...暂时无法访问"},{name:"规则协议",message:""},{name:"公告通知",message:""}],t=u.map((e=>e.RouterName)),a=(0,h.iH)(e.map((e=>!1))),s=(0,h.iH)([""]),o=(0,h.iH)([!0]),n=(0,h.iH)(0),c=[r.sM],i=0,d=(0,h.iH)(!1);return u.slice(1).forEach((({Router:e})=>{c.push(e[0].path)})),{setContentStyle:"overflow: auto;",leftList:s,leftNavCheckState:o,topNavCheckState:a,topList:e,tabKeyMap:t,tabIndex:n,tabPath:c,originLeftNavWidth:i,showShadow:d}},components:{Container:n.Z},async created(){this.$bus.$on("toggleShadow",(()=>{this.setInvoice()})),this.$bus.$on("changeState",(e=>{console.log("bus on changestate: ",e),this.changeState(e)}));const e=this.backState("tab",this.topNavCheckState);this.originLeftNavWidth=document.documentElement.style.getPropertyValue("--leftnav-width"),this.changeState({top:!0,index:e});let t=window.localStorage.getItem("userID"),a=await(0,c.ZP)({method:"POST",url:"/api/e9b849a515a84327b424af7ccdbf2949/mobile/common/v1_0_0/notify/all/active",data:{is_active:!0,platform:10003,recipient_id:t},auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}});if(a){let t=a.details.notify_generals,s=a.details.notify_users;t=t.map((e=>({keyss:"gen_"+e.id,title:e.title,date:e.date_created,content:e.content.text||"",read:!1}))),s=s.map((e=>({keyss:"user_"+e.id,title:e.title,date:e.date_created,content:e.content.text||"",read:12004==e.status})));let o=[...t,...s];this.meslist=o;let n=[];o.map((e=>{0==e.read&&n.push(e)})),this.unreads=n,this.unreads.length&&3!=e?this.setCSSVAR("--unreadnews-color","#93d500"):this.setCSSVAR("--unreadnews-color","white")}},methods:{setInvoice(){this.showShadow=!this.showShadow,this.showInvoice=!this.showInvoice},setCSSVAR(e,t){document.documentElement.style.setProperty(e,t)},setLeftNavWidth(){2==this.tabIndex?this.setCSSVAR("--leftnav-width","200px"):this.setCSSVAR("--leftnav-width",this.originLeftNavWidth)},updateLeftTab(e){if(0==this.tabIndex)this.$router.replace(u[this.tabIndex].Router[e]?.path).then((t=>{(0,d._)({[this.tabKeyMap[this.tabIndex]]:e})}));else if(1==this.tabIndex)this.$bus.$emit("setMoney",{index:e}),(0,d._)({[this.tabKeyMap[this.tabIndex]]:e});else if(2==this.tabIndex)console.log("set agreement "),this.$bus.$emit("setAgreement",{path:f[e]?.hash}),(0,d._)({[this.tabKeyMap[this.tabIndex]]:e}),console.log("after query set : route m.params .que");else if(3==this.tabIndex){const t=u[this.tabIndex].Router[e]?.path;this.$router.replace(t).then((t=>{(0,d._)({[this.tabKeyMap[this.tabIndex]]:e})})),(0,d._)({[this.tabKeyMap[this.tabIndex]]:e})}},setLeftNav(e){const{leftList:t,leftNavCheckState:a}=m(u[this.tabIndex]);a[e]=!0,this.leftList=t,this.leftNavCheckState=a,this.changeState({left:!0,index:e})},backState(e,t){const a=+(0,d.Z)()[e];return"number"==typeof a&&!isNaN(a)&&a>=0&&a<t.length?(t.forEach(((e,a)=>t[a]=!1)),t[a]=!0,a):(t[0]=!0,0)},async changeState({top:e,left:t,index:a}){if(e){if(e&&1==a)return void console.log("资管平台正在开发中");this.topNavCheckState.forEach(((e,t)=>{this.topNavCheckState[t]=!1})),this.topNavCheckState[a]=!0,this.tabIndex=a;const t=+(0,d.Z)()[this.tabKeyMap[this.tabIndex]];this.$router.replace(this.tabPath[this.tabIndex]).then((e=>{(0,d._)({tab:a}),this.setLeftNav(t||0),this.setLeftNavWidth()}))}else if(t){let e=["/tools/provider/settings/update","/tools/provider/profile/update","/tools/provider/activity/update","/tools/provider/progress/review","/tools/provider/feedback","/tools/provider/order/board"],t=this.$route.path,s=e.some((e=>e==t));if(s)if(1===a){let e=await(0,c.ZP)({method:"POST",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/provider/insurance/info/get",data:{provider_id:Number(window.localStorage.getItem("providerID"))},auth:c.I8,headers:c.A});if(!e.details)return void this.$toast.warn("基本信息未通过审核，无法进入主理人设置",0,500,3e3)}else if(2===a){console.log("检查商品发布");let e=await(0,i.MU)({user_id:Number(window.localStorage.getItem("userID"))});if(console.log("进入商品发布之前的 主理人设置信息：",e),!e.details||"尚未设置"==e.details.name)return void this.$toast.warn("主理人设置未通过审核，无法商品发布",0,500,3e3);console.log("通过商品发布设置 路由守卫")}this.leftNavCheckState.forEach(((e,t)=>{this.leftNavCheckState[t]=!1})),this.leftNavCheckState[a]=!0,this.updateLeftTab(a||0)}},logout(){window.localStorage.removeItem("list"),window.localStorage.removeItem("order"),window.localStorage.removeItem("currentIndex010006"),window.localStorage.removeItem("userID"),window.localStorage.removeItem("username"),window.localStorage.removeItem("authToken"),window.localStorage.removeItem("isStaff"),window.localStorage.removeItem("isSuperUser"),window.localStorage.removeItem("isProvider"),window.localStorage.removeItem("providerID"),this.$router.replace("/tools/login")}},computed:{title(){return this.topList[this.tabIndex]},getAccount(){return window.localStorage.getItem("userName")}}},v=a(83744);const g=(0,v.Z)(p,[["render",o]]);var w=g}}]);
//# sourceMappingURL=2950.856ea7d7.js.map