"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[8745],{5050:function(e,t,n){function i(e,t){let n=null;function i(...i){n&&clearTimeout(n),n=setTimeout((()=>{e.apply(this,i)}),t)}return i}function o(e){return String.fromCharCode(e)}function l(e=null){let t="";if(null!==e){for(let n=0;n<e.length;n+=1){const i=e.charAt(n);if("+"===i)t+=" ";else if("%"===i){const i=e.substring(n+1,n+3);parseInt(`0x${i}`)>127?(t+=decodeURI("%"+i.toString()+e.substring(n+3,n+9).toString()),n+=8):(t+=o(parseInt(`0x${i}`)),n+=2)}else t+=i}return t}}n.d(t,{Ds:function(){return i},EO:function(){return l},$i:function(){return r},lM:function(){return a},h3:function(){return c},mr:function(){return d},ss:function(){return w},v2:function(){return h},te:function(){return g},Zy:function(){return f},C_:function(){return p},Cj:function(){return v},HO:function(){return y},_e:function(){return b},d0:function(){return _}});var s="                                 \"$_#(=[>+.&']|~Ts2W5lzy0w!}*-;\\<bad7ouxHOZXvrjCQ9fp1NPnmRB@?^,`{YUASKigtMeGEL8hkIV4cJD36Fq)/%: ";function r(e){let t="";for(const n in t="",e)t+=s[e[n].charCodeAt(0)];return t}function a(e){let t="",n=null;for(const i in t="",n=new Map,s)n[s[i]]=i;for(const i in n[" "]=99,e)t+=String.fromCharCode(n[e[i]]);return t}function c(e){const t=e.split("").slice(0,10);return t[4]=".",t[7]=".",t.join("")}function d(e,t,n,i,o,l){const s=e,r=Number(t)<10?"0"+t:t,a=Number(n)<10?"0"+n:n,c=Number(i)<10?"0"+i.slice(1,2):i,d=Number(o)<10?"0"+o.slice(1,2):o,u=Number(l)<10?"0"+l.slice(1,2):l;return`${s}-${r}-${a}T${c}:${d}:${u}Z`}const u=e=>new Promise((t=>{setTimeout((()=>{e.style.backgroundColor="transparent",t()}),200)})),m=e=>new Promise((t=>{setTimeout((()=>{e.style.backgroundColor="red",t()}),200)}));async function w(e){return e.style.backgroundColor="red",await u(e),await m(e),await u(e),await m(e),await u(e),new Promise((e=>{e()}))}function h(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++){const l=e[n[o]],s=t[i[o]],r=typeof l,a=typeof s;if(r!==a)return!1;if("object"===r&&"object"===a){const e=h(l,s);if(!e)return!1}else if("array"===r&&"array"===a){const e=g(l,s);if(!e)return!1}else if(l!==s)return!1}return!0}function g(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){if(typeof e[n]!==typeof t[n])return!1;if("object"===typeof e[n]&&"object"===typeof t[n]){const i=h(e[n],t[n]);if(!i)return!1}else if("array"===typeof e[n]&&"array"===typeof t[n]){const i=g(e[n],t[n]);if(!i)return!1}else if(e[n]!==t[n])return!1}return!0}const f=e=>{const t=e.split("\n"),n=t.filter((e=>e&&e.trim()));for(const i in n)n[i]=n[i].trim();return n};function p(e,t,n=.2){return new Promise(((i,o)=>{const l=new FileReader;l.readAsDataURL(e),l.onerror=()=>{o({code:"0000",msg:`图片读取失败，错误码为${l.error.code}`})},l.onload=()=>{const e=new Image;e.src=l.result,e.onload=()=>{const{width:o,height:l}=e,s=o/l;i(s<t-n||s>t+n?{code:"0010",msg:"图片长宽比例不符要求"}:{code:"1111",msg:"图片长宽比例符合要求"})}}}))}function v(e){const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function y(e){const t=e.replace(/-/g,"."),n=t.replace("T"," ");return n.slice(0,16)}function b(e){return e.substring(0,e.lastIndexOf("."))}function _(){let e,t;return window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(t=document.documentElement.clientHeight,e=document.documentElement.clientWidth),[e,t]}},32181:function(e,t,n){n.d(t,{C:function(){return o}});var i=n(30048);function o(e){return(0,i.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/workticketaudit/list/user/all",data:window.JSON.stringify(e),auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}},27623:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(66252),o=n(3577);const l={class:"empty-data-placeholder"};function s(e,t,n,s,r,a){const c=(0,i.up)("a-empty");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(c,null,{description:(0,i.w5)((()=>[(0,i._)("span",null,(0,o.zw)(n.description),1)])),_:1})])}var r={name:"e-EmptyDataPlaceholder",props:{description:{type:String,default:"暂无数据"}}},a=n(83744);const c=(0,a.Z)(r,[["render",s]]);var d=c},25700:function(e,t,n){n.r(t),n.d(t,{default:function(){return pe}});var i=n(66252),o=n(49963),l=n(3577);const s=e=>((0,i.dD)("data-v-2399835f"),e=e(),(0,i.Cn)(),e),r={id:"reviewProgress"},a=s((()=>(0,i._)("div",{class:"tableHeader"},[(0,i._)("p",null,"创建日期"),(0,i._)("p",null,"内容模块"),(0,i._)("p",null,"版本"),(0,i._)("p",null,"申请理由"),(0,i._)("p",null,"状态")],-1))),c=s((()=>(0,i._)("div",{class:"divideLine"},null,-1))),d=s((()=>(0,i._)("div",{class:"emptyDiv"},null,-1))),u={class:"paginationZone"},m={key:0,class:"fixedCoverPage"},w={class:"absoluteScrollDialogStore"},h={key:0,class:"module add"},g=s((()=>(0,i._)("p",{class:"moduleName"},"添加",-1))),f={class:"moduleContent addModuleContent"},p={class:"bigImageZone"},v={class:"thumbTitleZone"},y={key:1,class:"module update"},b=s((()=>(0,i._)("p",{class:"moduleName"},"更新",-1))),_={class:"moduleContent updateModuleContent"},x={style:{"font-size":"21px","font-weight":"bold",color:"#000"}},S={key:0,style:{"font-size":"20px"}},k={key:1,style:{"font-size":"20px"}},D=(0,i.Uk)(" 修改大图为："),C={alt:"",style:{width:"100px",height:"100px","border-radius":"10px"}},I={key:2,style:{"font-size":"20px"}},$=(0,i.Uk)(" 修改缩略图为："),z={alt:"",style:{width:"100px",height:"100px","border-radius":"10px"}},P={key:2,class:"module delete"},N=s((()=>(0,i._)("p",{class:"moduleName"},"删除",-1))),H={class:"moduleContent deleteModuleContent"},O={class:"bigImageZone"},W={alt:""},Z={class:"thumbTitleZone"},T={alt:""},M={class:"fixedFullLoading"};function A(e,t,n,s,A,j){const E=(0,i.up)("order-list"),U=(0,i.up)("a-pagination"),L=(0,i.up)("empty-data-placeholder"),q=(0,i.up)("Scroll"),Y=(0,i.up)("a-spin"),F=(0,i.up)("a-space"),J=(0,i.Q2)("lazy");return(0,i.wg)(),(0,i.iD)("div",r,[a,c,d,(0,i.Wm)(q,{class:"content2","probe-type":3,ref:"scroll"},{default:(0,i.w5)((()=>[(0,i.Wm)(E,{list:A.listShow},null,8,["list"]),(0,i.wy)((0,i._)("div",u,[(0,i.Wm)(U,{total:A.listAll.length,"show-total":(e,t)=>`${t[0]}-${t[1]} of ${e} items`,"page-size":A.pageSize,"default-current":1,current:A.currentPage,"onUpdate:current":t[0]||(t[0]=e=>A.currentPage=e)},null,8,["total","show-total","page-size","current"])],512),[[o.F8,0!==A.listShow.length]]),0===A.listShow.length?((0,i.wg)(),(0,i.j4)(L,{key:0,description:"暂无工单数据"})):(0,i.kq)("",!0)])),_:1},512),A.isShowCoverPage?((0,i.wg)(),(0,i.iD)("div",m)):(0,i.kq)("",!0),(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(A.listShow,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"itemcontent",key:e.id,style:{"background-color":"#000",width:"0px",height:"0px","margin-left":"10px","margin-bottom":"3px"}},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:(0,l.C_)(`details${n}`),key:e.id,style:{width:"0px",height:"0px","background-color":"#fff","box-shadow":"var(--color-text-grey) 0 0 7px",overflow:"hidden",position:"absolute","z-index":"9"}},[(0,i._)("p",{class:"imageZone",onClick:t[1]||(t[1]=e=>j.hideViewDialog())}),(0,i.Wm)(q,{ref_for:!0,ref:"roll",class:"content3"},{default:(0,i.w5)((()=>[e.content.add&&0!==e.content.add.length?((0,i.wg)(),(0,i.iD)("div",h,[g,(0,i._)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.content.add,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"addModuleContentItem"},[(0,i._)("div",p,[(0,i.wy)((0,i._)("img",null,null,512),[[J,e.image]])]),(0,i._)("div",v,[(0,i.wy)((0,i._)("img",null,null,512),[[J,e.thumbnail]]),(0,i._)("p",null,(0,l.zw)(e.name),1)])])))),128))])])):(0,i.kq)("",!0),e.content.add&&0!==e.content.update.length?((0,i.wg)(),(0,i.iD)("div",y,[b,(0,i._)("div",_,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.content.update,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"updateModuleContentItem"},[(0,i._)("p",x," id = "+(0,l.zw)(e.id),1),e.name?((0,i.wg)(),(0,i.iD)("p",S," 修改类别名为："+(0,l.zw)(e.name),1)):(0,i.kq)("",!0),e.image?((0,i.wg)(),(0,i.iD)("p",k,[D,(0,i.wy)((0,i._)("img",C,null,512),[[J,e.image]])])):(0,i.kq)("",!0),e.thumbnail?((0,i.wg)(),(0,i.iD)("p",I,[$,(0,i.wy)((0,i._)("img",z,null,512),[[J,e.thumbnail]])])):(0,i.kq)("",!0)])))),128))])])):(0,i.kq)("",!0),e.content.add&&0!==e.content.delete.length?((0,i.wg)(),(0,i.iD)("div",P,[N,(0,i._)("div",H,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.content.delete,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"deleteModuleContentItem"},[(0,i._)("div",O,[(0,i.wy)((0,i._)("img",W,null,512),[[J,e.image]])]),(0,i._)("div",Z,[(0,i.wy)((0,i._)("img",T,null,512),[[J,e.thumbnail]]),(0,i._)("p",null,(0,l.zw)(e.name),1)])])))),128))])])):(0,i.kq)("",!0)])),_:2},1536)],2)),[[o.F8,n===A.showIndex]])])))),128))]),(0,i.wy)((0,i._)("div",M,[(0,i.Wm)(F,null,{default:(0,i.w5)((()=>[(0,i.Wm)(Y,{size:"large"})])),_:1})],512),[[o.F8,e.isLoading]])])}var j=n(467),E=n(32181);const U={id:"order-list"};function L(e,t,n,o,l,s){const r=(0,i.up)("list-item");return(0,i.wg)(),(0,i.iD)("div",U,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.list,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"list-item"},[(0,i.Wm)(r,{item:e,index:t},null,8,["item","index"])])))),128))])}const q=e=>((0,i.dD)("data-v-4109944c"),e=e(),(0,i.Cn)(),e),Y={class:"list-item"},F={class:"order-content"},J={class:"date-created"},K={class:"content-module"},R={class:"version"},V={class:"create-reason"},X={class:"audit-status"},Q={class:"status"},B=(0,i.Uk)("点击查看详情"),G={class:"remark-content"},ee=q((()=>(0,i._)("p",{class:"placeHolder1"},null,-1))),te={class:"remark"},ne=q((()=>(0,i._)("p",{class:"placeHolder2"},null,-1)));function ie(e,t,n,o,s,r){const a=(0,i.up)("a-tooltip");return(0,i.wg)(),(0,i.iD)("div",Y,[(0,i._)("div",F,[(0,i._)("div",J,(0,l.zw)(r.setDate(n.item.date_created)),1),(0,i._)("div",K,(0,l.zw)(r.setModuleName(n.item.work_line_id)),1),(0,i._)("div",R,"V"+(0,l.zw)(n.item.version),1),(0,i._)("div",V,(0,l.zw)(n.item.create_reason),1),(0,i._)("div",X,[(0,i._)("div",Q,(0,l.zw)(r.setStatus(n.item.status)),1),(0,i.Wm)(a,null,{title:(0,i.w5)((()=>[B])),default:(0,i.w5)((()=>[(0,i._)("div",{class:"check",onClick:t[0]||(t[0]=(...e)=>r.viewDetailsClick&&r.viewDetailsClick(...e))},"查看")])),_:1})])]),(0,i._)("div",G,[ee,(0,i._)("p",te,"备注："+(0,l.zw)(n.item.review_comment),1),ne])])}var oe=n(5050),le={name:"e-ListItem",props:{item:{type:Object,default(){return{}}},index:{type:Number}},data(){return{}},mounted(){this.$nextTick((()=>{}))},methods:{VMUrlDecode(e){return(0,oe.EO)(e)},viewDetailsClick(e){const t={x:e.clientX,y:e.clientY,index:this.index};this.$bus.$emit("viewDetailsClick",t)},setStatus(e){if(3200===e)return"待审核"},setModuleName(e){if(1200===e)return"热门类别"},setDate(e){return(0,oe.h3)(e)}},components:{}},se=n(83744);const re=(0,se.Z)(le,[["render",ie],["__scopeId","data-v-4109944c"]]);var ae=re,ce={name:"e-Orderlist",props:{list:{type:Array,default(){return[]}}},methods:{viewDetails(e){var t=e||window.event;let n={x:t.clientX,y:t.clientY};console.log("client:"),console.log(n)}},components:{ListItem:ae}};const de=(0,se.Z)(ce,[["render",L]]);var ue=de,me=n(27623),we=n(19755),he=n.n(we),ge={name:"e-ReviewProgress",beforeRouteEnter(e,t,n){"true"===window.localStorage.getItem("isStaff")?(window.localStorage.setItem("currentIndex010001",-1),n()):(n({path:"/tools/login"}),window.localStorage.removeItem("list"),window.localStorage.removeItem("order"),window.localStorage.removeItem("currentIndex010001"),window.localStorage.removeItem("userID"),window.localStorage.removeItem("username"),window.localStorage.removeItem("authToken"),window.localStorage.removeItem("isStaff"),window.localStorage.removeItem("isSuperUser"),window.localStorage.removeItem("isProvider"),window.localStorage.removeItem("providerID"))},async created(){this.$refs.scroll&&this.$refs.scroll.refresh();const e={user:{id:Number(window.localStorage.getItem("userID"))}};this.isLoading=!0;const t=await(0,E.C)(e),{Code:n,msg:i,details:o}=t;if(console.log("审核进度 开局list"),console.log(t),200===n&&"success"===i){this.listAll=o,this.totalPage=Math.ceil(this.listAll.length/this.pageSize);const e=window.JSON.parse(window.JSON.stringify(this.listAll));console.log(e),0===this.listShow.length&&(this.listShow=e.slice(0,this.pageSize)),this.currentPage===this.totalPage&&(this.listShow=e.slice(this.pageSize*(this.currentPage-1),this.pageSize*this.currentPage))}this.isLoading=!1,this.$bus.$on("viewDetailsClick",(e=>{const{x:t,y:n,index:i}=e;this.x=t,this.y=n;const o=this.x,l=this.y,s=this,r=`.details${i}`;let a;this.isShowCoverPage=!0;const c=document.body.clientWidth;let d;a=c<1e3?0:c>1e3&&c<1240?(c-1e3)/2:240+(c-240-1e3)/2;let u=document.body.clientHeight;d=u<680?0:(u-680)/2,he()(r).animate({left:o,top:l},50,(function(){s.showIndex=i})),he()(r).animate({left:a,top:d,width:"100px",height:"100px"},100,(function(){s.$refs.roll[i].refresh(),s.$refs.roll[i].scrollTo(0,0,0)})),he()(r).animate({width:"1000px",height:"680px"},150)}))},deactivated(){this.$bus.$off("viewDetailsClick")},data(){return{listAll:[],listShow:[],pageSize:8,currentPage:1,totalPage:0,isShowCoverPage:!1,showIndex:-1,x:null,y:null}},methods:{VMUrlDecode(e){return(0,oe.EO)(e)},hideViewDialog(){const e=`.details${this.showIndex}`,t=this;he()(e).animate({width:"70px",height:"70px"},50),he()(e).animate({left:t.x,top:t.y,width:"0px",height:"0px"},200,(function(){t.isShowCoverPage=!1,t.showIndex=-1}))}},watch:{currentPage(e){const t=window.JSON.parse(window.JSON.stringify(this.listAll));this.listShow=t.slice(this.pageSize*(e-1),this.pageSize*e),this.$refs.scroll.scrollTo(0,0,400),setTimeout((()=>{this.$refs.scroll.refresh()}),200)},listShow:{handler(e){},deep:!0}},components:{Scroll:j.Z,OrderList:ue,EmptyDataPlaceholder:me.Z}};const fe=(0,se.Z)(ge,[["render",A],["__scopeId","data-v-2399835f"]]);var pe=fe}}]);
//# sourceMappingURL=8745.0c9f6546.js.map