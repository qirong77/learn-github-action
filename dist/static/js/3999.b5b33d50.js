"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[3999],{70921:function(e,t,i){i.r(t),i.d(t,{default:function(){return Pe}});var o=i(66252),s=i(49963);const r=e=>((0,o.dD)("data-v-d243a702"),e=e(),(0,o.Cn)(),e),n={id:"product"},l=r((()=>(0,o._)("div",{class:"tableHeader"},[(0,o._)("p",null,"创建日期"),(0,o._)("p",null,"用户"),(0,o._)("p",null,"身份"),(0,o._)("p",null,"版本"),(0,o._)("p",null,"申请理由"),(0,o._)("p",null,"状态"),(0,o._)("p",null,"审核")],-1))),a=r((()=>(0,o._)("div",{class:"divideLine"},null,-1))),c=r((()=>(0,o._)("div",{class:"emptyDiv"},null,-1))),d={class:"paginationZone"},u={class:"right-absolute-flex"},g={key:0,class:"fixedCoverPage"},w={class:"absoluteScrollDialogStore"},h={class:"itemcontent",style:{"background-color":"#000",width:"0px",height:"0px","margin-left":"10px","margin-bottom":"3px"}},p={class:"details",style:{width:"0px",height:"0px","background-color":"#fff","box-shadow":"var(--color-text-grey) 0 0 7px",overflow:"hidden",position:"absolute","z-index":"9"}},v={class:"fixedFullLoading"};function m(e,t,i,r,m,y){const k=(0,o.up)("order-list"),_=(0,o.up)("a-pagination"),f=(0,o.up)("empty-data-placeholder"),D=(0,o.up)("Scroll"),C=(0,o.up)("review-comment-dialog"),x=(0,o.up)("product-ticket-content"),S=(0,o.up)("a-spin"),b=(0,o.up)("a-space");return(0,o.wg)(),(0,o.iD)("div",n,[l,a,c,(0,o.Wm)(D,{class:"content2","probe-type":3,ref:"scroll"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{list:m.listShow},null,8,["list"]),(0,o.wy)((0,o._)("div",d,[(0,o.Wm)(_,{total:m.listAll.length,"show-total":(e,t)=>`${t[0]}-${t[1]} of ${e} items`,"page-size":m.pageSize,"default-current":1,current:m.currentPage,"onUpdate:current":t[0]||(t[0]=e=>m.currentPage=e)},null,8,["total","show-total","page-size","current"])],512),[[s.F8,0!==m.listShow.length]]),0===m.listShow.length?((0,o.wg)(),(0,o.j4)(f,{key:0,description:"暂无工单数据"})):(0,o.kq)("",!0)])),_:1},512),(0,o.wy)((0,o._)("div",u,[(0,o.Wm)(C,{onCancel:y.cancelClick,onEnsure:y.ensureClick,ref:"inputReasonProduct"},null,8,["onCancel","onEnsure"])],512),[[s.F8,m.isShowRightCoverZone]]),m.isShowCoverPage?((0,o.wg)(),(0,o.iD)("div",g)):(0,o.kq)("",!0),(0,o._)("div",w,[(0,o._)("div",h,[(0,o.wy)((0,o._)("div",p,[(0,o.wy)((0,o._)("p",{class:"imageZone",onClick:t[1]||(t[1]=e=>y.hideViewDialog())},null,512),[[s.F8,m.ifShowCancelIcon]]),(0,o.Wm)(D,{ref:"roll",class:"content3"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{ticketContent:m.activeViewItem},null,8,["ticketContent"])])),_:1},512)],512),[[s.F8,m.viewBoardVisible]])])]),(0,o.wy)((0,o._)("div",v,[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(S,{size:"large"})])),_:1})],512),[[s.F8,m.isLoading]])])}var y=i(467),k=i(61755),_=i(13004),f=i(19755),D=i.n(f),C=i(5050),x=i(40483),S=i(27623),b=i(3577);const z=e=>((0,o.dD)("data-v-be059a54"),e=e(),(0,o.Cn)(),e),$={class:"boardContent"},I={style:{color:"var(--color-pure-black)","border-collapse":"collapse",border:"none",width:"100%"}},P=z((()=>(0,o._)("tr",{style:{"border-top":".5px solid #CCC","border-left":".5px solid #CCC","border-right":".5px solid #CCC"}},[(0,o._)("th",{style:{padding:"6px 30px","font-size":"30px","background-color":"#EEE"},colspan:"2"},"详情")],-1))),H={style:{padding:"6px 10px","font-weight":"bold",border:".5px solid #CCC",width:"125px"}},K={style:{padding:"3px 10px","font-weight":"lighter",border:".5px solid #CCC"}},Y={key:0},q={key:1},R={key:2},L=["src"],Z={key:3},j={key:4},V={key:5},A={key:6},M={key:7},O={key:8},B={key:9},F={key:10},W={style:{display:"flex"}},E={key:11},N={style:{display:"flex"}},T={key:12},U={key:13},J={key:14},G={key:15},X={key:16},Q={key:17},ee={key:18},te={key:19},ie={key:20},oe={key:21},se={style:{display:"flex"}},re=["src"],ne={key:22},le={style:{display:"flex"}},ae=["src"],ce={key:23},de={key:24},ue={style:{"font-weight":"bold"}},ge={key:25},we={style:{"font-weight":"bold"}},he={key:26},pe={style:{"font-weight":"bold"}},ve={style:{"min-width":"179px"}},me=(0,o.Uk)("    "),ye=["onClick","src"],ke=["onClick","src"],_e=z((()=>(0,o._)("div",null,"短视频",-1))),fe={width:"320",height:"240",controls:"controls"},De=["src"];function Ce(e,t,i,r,n,l){return(0,o.wg)(),(0,o.iD)("div",$,[(0,o._)("table",I,[P,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.ticketContent,((s,r)=>((0,o.wg)(),(0,o.iD)("tr",{key:r},[(0,o._)("td",H,(0,b.zw)(l.processKey(r)),1),(0,o._)("td",K,["video_short"!==r?((0,o.wg)(),(0,o.iD)("p",Y,(0,b.zw)(l.processValue(r,s)),1)):(0,o.kq)("",!0),"food"===r?((0,o.wg)(),(0,o.iD)("p",q,(0,b.zw)(i.ticketContent.food.description),1)):(0,o.kq)("",!0),"video_short"===r?((0,o.wg)(),(0,o.iD)("p",R,[(0,o._)("h1",null,(0,b.zw)(e.values),1),(0,o._)("video",{src:l.videoUrl,controls:"controls",style:{width:"300px"}},null,8,L)])):(0,o.kq)("",!0),"gain"===r?((0,o.wg)(),(0,o.iD)("div",Z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"product_general_features"===r?((0,o.wg)(),(0,o.iD)("div",j,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"dining"===r?((0,o.wg)(),(0,o.iD)("div",V,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"service"===r?((0,o.wg)(),(0,o.iD)("div",A,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"slogan1"===r?((0,o.wg)(),(0,o.iD)("div",M,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"slogan2"===r?((0,o.wg)(),(0,o.iD)("div",O,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"facility"===r?((0,o.wg)(),(0,o.iD)("div",B,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"categories"===r?((0,o.wg)(),(0,o.iD)("div",F,[(0,o._)("div",W,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t,style:{"margin-right":"20px"}},(0,b.zw)(n.categoryMap.find((t=>t.id==e)).name),1)))),128))])])):(0,o.kq)("",!0),"features"===r?((0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("div",N,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t,style:{"margin-right":"20px"}},(0,b.zw)(n.featuresMap[e["feature"]]),1)))),128))])])):(0,o.kq)("",!0),"foundation"===r?((0,o.wg)(),(0,o.iD)("div",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"healthcare"===r?((0,o.wg)(),(0,o.iD)("div",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"accommodation"===r||"aboutAccommodation"===r?((0,o.wg)(),(0,o.iD)("div",J,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"communication"===r?((0,o.wg)(),(0,o.iD)("div",G,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"invoice"===r?((0,o.wg)(),(0,o.iD)("div",X,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"advantage1_intro"===r?((0,o.wg)(),(0,o.iD)("div",Q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"advantage2_intro"===r?((0,o.wg)(),(0,o.iD)("div",ee,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"insurance"===r?((0,o.wg)(),(0,o.iD)("div",te,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e.type)+": "+(0,b.zw)(e.name)+"-保额"+(0,b.zw)(e.insured_amount),1)))),128))])):(0,o.kq)("",!0),"staffing"===r?((0,o.wg)(),(0,o.iD)("div",ie,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"horizontal_shows"===r?((0,o.wg)(),(0,o.iD)("div",oe,[(0,o._)("div",se,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,i)=>((0,o.wg)(),(0,o.iD)("img",{key:i,src:e.url||e,style:{"margin-right":"20px",width:"100px"},onLoad:t[0]||(t[0]=(...e)=>l.imageLoad&&l.imageLoad(...e))},null,40,re)))),128))])])):(0,o.kq)("",!0),"vertical_shows"===r?((0,o.wg)(),(0,o.iD)("div",ne,[(0,o._)("div",le,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,i)=>((0,o.wg)(),(0,o.iD)("img",{key:i,src:e.url||e,style:{"margin-right":"20px",height:"100px"},onLoad:t[1]||(t[1]=(...e)=>l.imageLoad&&l.imageLoad(...e))},null,40,ae)))),128))])])):(0,o.kq)("",!0),"price_description"===r?((0,o.wg)(),(0,o.iD)("div",ce,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])):(0,o.kq)("",!0),"prepare_instruction"===r?((0,o.wg)(),(0,o.iD)("div",de,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("p",ue,(0,b.zw)(e.name),1),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.content,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])])))),128))])):(0,o.kq)("",!0),"syllabus"===r?((0,o.wg)(),(0,o.iD)("div",ge,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("p",we,(0,b.zw)(e.title),1),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.details,((e,t)=>((0,o.wg)(),(0,o.iD)("p",{key:t},(0,b.zw)(e),1)))),128))])])))),128))])):(0,o.kq)("",!0),"schedule"===r?((0,o.wg)(),(0,o.iD)("div",he,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("p",pe,(0,b.zw)(e.date),1),(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.content,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{style:{display:"flex"},key:t},[(0,o._)("p",ve,(0,b.zw)(e.time),1),me,(0,o._)("p",null,(0,b.zw)(e.detail),1)])))),128))])])))),128))])):(0,o.kq)("",!0)])])))),128))]),(0,o.wy)((0,o._)("div",null,"活动头版图:",512),[[s.F8,0!=i.ticketContent.horizontal_shows?.length]]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.ticketContent.horizontal_shows,((e,t)=>((0,o.wg)(),(0,o.iD)("img",{onClick:t=>l.watchBigImg(e),src:"https://www.camptogo.com"+e.url,key:t,alt:""},null,8,ye)))),128)),(0,o.wy)((0,o._)("div",null,"竖版风采图:",512),[[s.F8,0!=i.ticketContent.vertical_shows?.length]]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.ticketContent.vertical_shows,((e,t)=>((0,o.wg)(),(0,o.iD)("img",{onClick:t=>l.watchBigImg(e),src:"https://www.camptogo.com"+e.url,key:t,alt:""},null,8,ke)))),128)),(0,o.wy)((0,o._)("div",null,[_e,(0,o._)("video",fe,[(0,o._)("source",{src:"https://www.camptogo.com"+i.ticketContent.video_short?.url,type:"video/mp4"},null,8,De)])],512),[[s.F8,i.ticketContent.video_short?.url]])])}i(26699);var xe={name:"ProductTicketContentXXX",props:{ticketContent:{type:[Object,Array],default(){return[]}}},watch:{ticketContent:function(e,t){console.log(e),console.log(JSON.stringify(e))}},created(){console.log(this.ticketContent)},methods:{watchBigImg(e){window.open("https://www.camptogo.com"+e.url,"_blank")},imageLoad(){this.$bus.$emit("itemImageLoad")},processKey(e){switch(e){case"full_name":return"产品全称";case"short_name":return"产品简称";case"exclusive":return"是否独家";case"free":return"是否免费";case"welfare":return"是否是公益产品";case"nonprofit":return"是否非盈利产品";case"invoice":return"服务商向消费者开具的发票类型";case"features":return"特色";case"insurance":return"保险类型";case"expenses_rate":return"服务费率";case"other_expenses":return"其他费用";case"oversold_limit":return"可超卖人数";case"size_valid":return"成团人数";case"recruit_total":return"总人数";case"staffing_ratio":return"工作人员比例";case"categories":return"活动类别";case"product_general_features":return"活动特色";case"age_min":return"最小招生年龄";case"age_max":return"最大招生年龄";case"activitymode_id":return"日程形式";case"theme_related":return"内容形式";case"difficulty":return"活动难易度";case"foundation":return"基础要求";case"activity_province":return"活动省份";case"date_created":return"创建时间";case"theme":return"主题";case"location_province":return"活动省份";case"activity_city":return"活动城市";case"location_city":return"活动城市";case"activity_district":return"活动区县";case"liability_insurance_self_if":return"是否自己购买责任险";case"accident_insurance_self_if":return"是否自己购买意外险";case"location_district":return"活动区县";case"liability_insurance_self_details":return"购买的责任险";case"accident_insurance_self_details":return"购买的意外险";case"price_exclude":return"价格不包含";case"price_include":return"价格包含";case"food":return"食物";case"activity_detail":return"活动详细地点";case"location_street":return"活动详细地点";case"activity_start_time":return"活动开始时间";case"activity_end_time":return"活动结束时间";case"activity_days":return"活动天数";case"product_launching_time":return"预计活动上架时间";case"product_expiration_time":return"活动截止报名时间";case"promotion":return"是否优惠";case"price_original":return"原价";case"price_selling":return"现价";case"price_description":return"价格说明";case"refundpolicy_id":return"退款政策";case"dining":return"餐饮标准";case"accommodation":return"住宿管理";case"aboutAccommodation":return"住宿管理";case"communication":return"信息交互";case"healthcare":return"医疗保障";case"horizontal_shows":return"横板图片";case"vertical_shows":return"竖版图片";case"video_short":return"宣传视频";case"prepare_instruction":return"开营须知";case"slogan1":return"主宣传语";case"topic":return"产品主题";case"topic_intro":return"主题简介";case"slogan2":return"副宣传语";case"advantage1":return"产品优势1";case"advantage1_intro":return"产品优势1简介";case"advantage2":return"产品优势2";case"advantage2_intro":return"产品优势2简介";case"gain":return"收获内容";case"facility":return"硬件设施";case"service":return"服务";case"staffing":return"人员配置";case"syllabus":return"教学提纲";case"schedule":return"日程表";case"provider_id":return"服务商id";case"id":return"服务商id";case"language":return"语言";default:return e}},processValue(e,t){const i=Object.prototype.toString.apply(t);return"price_original"===e||"price_selling"===e?`${t}`.slice(0,-2):("daily_schedule"===e&&console.log("📕","日程安排"),"[object String]"===i?t||null:"[object Boolean]"===i?t?"是":"否":"[object Number]"===i?"activitymode_id"===e?this.activityModesGOT.find((e=>e.id===t)).name:t:null)},findNameByID(e,t){return"[object Array]"===Object.prototype.toString.apply(t)?t.find((t=>t.id===e)).name:"【无数据】"}},data(){return{imgList:["vertical_shows","horizontal_shows","video_short"],featuresMap:{1:"国际奖项",2:"国家奖项",3:"省市奖项",4:"高级职称",5:"中级职称",6:"荣誉称号",7:"空降嘉宾",8:"独家授权",9:"教学5年+",10:"教学10年+",11:"教学20年+",12:"教学30年+",13:"教学40年+",14:"专业认证",15:"联合教学",16:"自营场地",17:"国际品牌",18:"知名品牌",19:"前沿领域",20:"自研课程",21:"小班授课",22:"可用优惠",23:"高级住宿",24:"医疗保障",25:"超优场地",26:"著有作品"},categoryMap:[{name:"体育",id:1,selected:!1},{name:"机械",id:3,selected:!1},{name:"手工",id:4,selected:!1},{name:"地理",id:5,selected:!1},{name:"医疗",id:6,selected:!1},{name:"军事",id:7,selected:!1},{name:"天文",id:8,selected:!1},{name:"自然",id:9,selected:!1},{name:"户外",id:10,selected:!1},{name:"艺术",id:11,selected:!1},{name:"人文",id:12,selected:!1},{name:"计算机",id:13,selected:!1},{name:"商业",id:14,selected:!1},{name:"其他",id:15,selected:!1},{name:"亲子",id:17,selected:!1}]}},computed:{videoUrl(){const e=this.$props.ticketContent.video_short;return"string"===typeof e?e.slice(9,e.length-2):e.url?e.url:(console.log("error_url",e),e)},ticketContentMessage(){let e={};for(let t in this.ticketContent)this.imgList.includes(t)||(e[t]=this.ticketContent[t]);return e}}},Se=i(83744);const be=(0,Se.Z)(xe,[["render",Ce],["__scopeId","data-v-be059a54"]]);var ze=be,$e={name:"e-Provider",beforeRouteEnter(e,t,i){"true"===window.localStorage.getItem("isStaff")?(window.localStorage.setItem("currentIndex010003",5),i()):(i({path:"/tools/login"}),window.localStorage.removeItem("list"),window.localStorage.removeItem("order"),window.localStorage.removeItem("currentIndex010003"),window.localStorage.removeItem("userID"),window.localStorage.removeItem("username"),window.localStorage.removeItem("authToken"),window.localStorage.removeItem("isStaff"),window.localStorage.removeItem("isSuperUser"),window.localStorage.removeItem("isProvider"),window.localStorage.removeItem("providerID"))},async mounted(){let e={work_line_id:1400};this.isLoading=!0;try{const t=await(0,k.p0)(e);console.log("filter",t);const{Code:i,msg:o}=t;if(200===i&&"success"===o){console.log(t.details.tickets),this.listAll=t.details.reverse(),this.listAll.sort(((e,t)=>t.id-e.id)),this.totalPage=Math.ceil(this.listAll.length/this.pageSize);const e=window.JSON.parse(window.JSON.stringify(this.listAll));0===this.listShow.length&&(this.listShow=e.slice(0,this.pageSize)),this.currentPage===this.totalPage&&(this.listShow=e.slice(this.pageSize*(this.currentPage-1),this.pageSize*this.currentPage))}else this.$toast.error("获取工单数据失败 ",240),console.log("获取工单数据失败 ")}catch(t){this.$toast.error("获取工单数据失败  ",240),console.log("获取工单数据失败 ")}this.isLoading=!1,this.$bus.$on("viewDetailsClick",this.viewDetailsClick),this.$bus.$on("passClick",this.passClick),this.$bus.$on("passProduct",this.passProduct),this.$bus.$on("rejectClick",this.rejectClick)},unmounted(){this.$bus.$off("viewDetailsClick",this.viewDetailsClick),this.$bus.$off("passClick",this.passClick),this.$bus.$off("passProduct",this.passProduct),this.$bus.$off("rejectClick",this.rejectClick)},data(){return{listAll:[],listShow:[],pageSize:8,currentPage:1,totalPage:0,isShowCoverPage:!1,viewBoardVisible:!1,x:null,y:null,activeViewItem:[],isShowRightCoverZone:!1,activeRecordIndex:-1,isLoading:!1,ifShowCancelIcon:!1}},methods:{passClick(e){console.log("product passClick index: ",e),this.activeRecordIndex=e,this.$refs.inputReasonProduct.word="通过",this.$refs.inputReasonProduct.message="",this.isShowRightCoverZone=!0,this.isShowCoverPage=!0},passProduct(e){console.log("product passClick item id : ",e),this.activeRecordId=e},viewDetailsClick(e){console.log("click");const{x:t,y:i,index:o}=e;this.x=t,this.y=i;const s=this.x,r=this.y;this.activeViewItem=this.listShow[o].content,console.log(this.activeViewItem);const n=this,l=".details";let a;this.isShowCoverPage=!0,this.ifShowCancelIcon=!0;const c=document.body.clientWidth;let d;a=c<1e3?0:c>1e3&&c<1240?(c-1e3)/2:240+(c-240-1e3)/2;let u=document.body.clientHeight;d=u<680?0:(u-680)/2,D()(l).animate({left:s,top:r},50,(function(){n.viewBoardVisible=!0})),D()(l).animate({left:a,top:d,width:"100px",height:"100px"},100,(function(){n.$refs.roll.refresh(),n.$refs.roll.scrollTo(0,0,0)})),D()(l).animate({width:"1000px",height:"680px"},150)},rejectClick(e){this.activeRecordIndex=e,this.$refs.inputReasonProduct.word="拒绝",this.$refs.inputReasonProduct.message="",this.isShowRightCoverZone=!0,this.isShowCoverPage=!0},VMUrlDecode(e){return(0,C.EO)(e)},hideViewDialog(){this.activeViewItem={},this.ifShowCancelIcon=!1;const e=".details",t=this;D()(e).animate({width:"70px",height:"70px"},50),D()(e).animate({left:t.x,top:t.y,width:"0px",height:"0px"},200,(function(){t.isShowCoverPage=!1,t.viewBoardVisible=!1}))},async ensureClick(e){if(""!==e){if(this.$refs.inputReasonProduct.ifShowLoadingGif=!0,console.log(this.listAll[this.activeRecordIndex].id),console.log("list all: "),console.log(this.listAll),console.log("list all index: "),console.log(this.activeRecordIndex),console.log("record id newly added: "),console.log(this.activeRecordId),"通过"===this.$refs.inputReasonProduct.word){try{const t=await(0,k.Bb)({id:this.activeRecordId,review_comment:e});console.log("product pass ensure res: ",t),200==t.Code?(this.$toast.success("操作成功",240),this.$router.go(0)):(this.$toast.error("操作失败",240),console.log(t),console.log(t.Msg),this.$toast.error(t.Msg,240))}catch(t){this.$toast.error("操作失败",240),this.indexInListShow=-1}this.$refs.inputReasonProduct.ifShowLoadingGif=!1,this.isShowCoverPage=!1,this.isShowRightCoverZone=!1}if("拒绝"===this.$refs.inputReasonProduct.word){try{const t=await(0,k.RL)({id:this.activeRecordId,review_comment:e});200==t.Code?(this.$toast.success("操作成功",240),this.$router.go(0)):(this.$toast.error("操作失败",240),console.log(t.Msg),this.$toast.error(t.Msg,240))}catch(t){this.$toast.error("操作失败",240),this.indexInListShow=-1}this.$refs.inputReasonProduct.ifShowLoadingGif=!1,this.isShowCoverPage=!1,this.isShowRightCoverZone=!1}}else this.$toast.warn("编辑理由不能为啊空",240)},cancelClick(){this.isShowCoverPage=!1,this.isShowRightCoverZone=!1},simpleProcessPresentInfo(e){const t=Object.entries(e);return t}},watch:{currentPage(e){const t=window.JSON.parse(window.JSON.stringify(this.listAll));this.listShow=t.slice(this.pageSize*(e-1),this.pageSize*e),this.$refs.scroll.scrollTo(0,0,400),setTimeout((()=>{this.$refs.scroll.refresh()}),200)}},components:{Scroll:y.Z,OrderList:_.Z,ReviewCommentDialog:x.Z,EmptyDataPlaceholder:S.Z,ProductTicketContent:ze}};const Ie=(0,Se.Z)($e,[["render",m],["__scopeId","data-v-d243a702"]]);var Pe=Ie}}]);
//# sourceMappingURL=3999.b5b33d50.js.map