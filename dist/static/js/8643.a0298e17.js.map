{"version":3,"file":"static/js/8643.a0298e17.js","mappings":"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","sources":["webpack://v3/./src/pages/internal/views/providerTools/message/AllMessage.vue","webpack://v3/./src/pages/internal/views/providerTools/message/AllMessage.vue?f4d1"],"sourcesContent":["<template>\n  <div class=\"message-board\">\n    <div class=\"top\">\n      <div\n        class=\"all mescat\"\n        :class=\"activeclass === 'all' ? 'activemescat' : ''\"\n        @click=\"setActive('all')\"\n      >\n        全部\n      </div>\n      <div\n        class=\"read mescat\"\n        :class=\"activeclass === 'read' ? 'activemescat' : ''\"\n        @click=\"setActive('read')\"\n      >\n        已读\n      </div>\n      <div\n        class=\"unreaded mescat\"\n        :class=\"activeclass === 'unread' ? 'activemescat' : ''\"\n        @click=\"setActive('unread')\"\n      >\n        <div class=\"circle\">\n          <span>1</span>\n        </div>\n        <span> 未读 </span>\n      </div>\n      <div class=\"read-all\" @click=\"readAll(true)\">全部已读</div>\n    </div>\n    <div class=\"messages\">\n      <div\n        v-for=\"message in meslist\"\n        class=\"message\"\n        :key=\"message.keyss\"\n        :class=\"message.read ? '' : ' unread'\"\n      >\n        <div\n          class=\"mes-top\"\n          :class=\"{\n            readed: message.read,\n          }\"\n        >\n          <div class=\"mes-title\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\"\n              height=\"16\"\n              fill=\"currentColor\"\n              viewBox=\"0 0 16 16\"\n            >\n              <circle cx=\"8\" cy=\"8\" r=\"8\" />\n            </svg>\n            {{ message.title }}\n          </div>\n          <div class=\"mes-date\">{{ message.date }}</div>\n        </div>\n        <div class=\"mes-cont\">\n          {{ message.content }}>><span class=\"morelink\">查看全文</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport request from \"../../../../internal/network/request\";\nimport { ElMessageBox } from \"element-plus\";\nexport default {\n  components: {},\n  data() {\n    return {\n      unreads: [],\n      readed: [],\n      activeclass: \"all\",\n      meslist: [\n        {\n          keyss: \"0001\",\n          title: \"3.8好女神节，做自己的女王！\",\n          date: \"2022年3月8日 14:01\",\n          content:\n            \"从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上\",\n        },\n        {\n          keyss: \"0002\",\n          title: \"3.8好女神节，做自己的女王！\",\n          date: \"2022年3月8日 14:01\",\n          content:\n            \"从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上\",\n        },\n        {\n          keyss: \"0003\",\n          title: \"3.8好女神节，做自己的女王！\",\n          date: \"2022年3月8日 14:01\",\n          content:\n            \"从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上\",\n        },\n        {\n          keyss: \"0004\",\n          title: \"3.8好女神节，做自己的女王！\",\n          date: \"2022年3月8日 14:01\",\n          content:\n            \"从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上\",\n        },\n        {\n          keyss: \"0005\",\n          title: \"3.8好女神节，做自己的女王！\",\n          date: \"2022年3月8日 14:01\",\n          content:\n            \"从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上\",\n        },\n        {\n          keyss: \"0006\",\n          title: \"3.8好女神节，做自己的女王！\",\n          date: \"2022年3月8日 14:01\",\n          content:\n            \"从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上从其哪有坐上\",\n        },\n      ],\n      showDialog: false,\n    };\n  },\n  methods: {\n    setActive(cat) {\n      this.activeclass = cat;\n      if (cat == \"all\") this.meslist = this.meslist2;\n      if (cat == \"read\") this.meslist = this.readed;\n      if (cat == \"unread\") this.meslist = this.unread;\n    },\n    readAll() {\n      ElMessageBox.confirm(\n        \"全部已读信息会让当前页面所有信息变为已读状态，是否继续?\",\n        \"Warning\",\n        {\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancel\",\n          type: \"warning\",\n        }\n      ).then(() => {});\n    },\n  },\n  async created() {\n    let userid = window.localStorage.getItem(\"userID\");\n    console.log(\"message page userid:\");\n    console.log(userid);\n    let noti_res = await request({\n      method: \"POST\",\n      url: \"/api/e9b849a515a84327b424af7ccdbf2949/mobile/common/v1_0_0/notify/all/active\",\n      data: {\n        is_active: true, //总是true\n        platform: 10003, // ALL = 10000, IOS = 10001, MINIAPP = 10002\n        recipient_id: userid, // 接受公告user的id\n      },\n      auth: {\n        username:\n          \"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4\",\n        password:\n          \"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366\",\n      },\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    console.log(\"通知消息\", noti_res);\n    let gen_noti = noti_res.details.notify_generals;\n    let user_noti = noti_res.details.notify_users;\n    // console.log(gen_noti,user_noti)\n    gen_noti = gen_noti.map((e) => {\n      return {\n        keyss: \"gen_\" + e.id,\n        title: e.title,\n        date: e.date_created,\n        content: e.content.text || \"\",\n        read: false,\n      };\n    });\n    user_noti = user_noti.map((e) => {\n      return {\n        keyss: \"user_\" + e.id,\n        title: e.title,\n        date: e.date_created,\n        content: e.content.text || \"\",\n        read: e.status == 12004 ? true : false,\n      };\n    });\n    let meslist = [...gen_noti, ...user_noti];\n    this.meslist = meslist;\n    this.meslist2 = meslist;\n    let unreads = [];\n\n    meslist.map((e) => {\n      if (e.read == false) {\n        unreads.push(e);\n      }\n      if (e.read == true) {\n        this.readed.push(e);\n      }\n    });\n    this.unread = unreads;\n  },\n};\n</script>\n<style lang=\"less\">\n.message-board {\n  width: 100%;\n  padding: 10px 70px 0 70px;\n  .read-all {\n    align-self: center;\n    margin-left: 670px;\n    color: gray;\n    cursor: pointer;\n    &:hover {\n      color: #97d70f;\n    }\n  }\n  .el-button--primary {\n    background-color: #92d401;\n  }\n}\n\n.top {\n  display: flex;\n  margin-bottom: 20px;\n  border-bottom: 1px solid lightgray;\n}\n.mescat {\n  position: relative;\n  width: 40px;\n  height: 40px;\n  margin: 5px 40px;\n\n  text-align: center;\n  font-size: 20px;\n}\n.activemescat {\n  border-bottom: 5px solid #97d70f;\n}\n.unreaded {\n  position: relative;\n}\n.unreaded .circle {\n  height: 15px;\n  width: 15px;\n  font-size: 10px;\n  background-color: #93d900;\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  border-radius: 50%;\n  right: -15px;\n  top: 0;\n}\n.message {\n  position: relative;\n  width: 100%;\n  /* height: 120px; */\n  border-bottom: 2px solid #e8e9e9;\n  border-radius: 5px;\n  margin-bottom: 20px;\n  padding: 8px 50px;\n}\n.mes-top {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.mes-top svg {\n  color: #93d900;\n  width: 12px;\n  height: 12px;\n  margin-right: 6px;\n}\n.readed svg {\n  color: #e8e9e9;\n}\n.mes-date {\n  margin-left: 100px;\n  align-self: end;\n}\n.mes-title {\n  font-size: 1.2em;\n  font-weight: 600;\n}\n\n.morelink {\n  font-weight: 550;\n  color: #658d4c;\n}\n</style>\n","import { render } from \"./AllMessage.vue?vue&type=template&id=5eaf5580\"\nimport script from \"./AllMessage.vue?vue&type=script&lang=js\"\nexport * from \"./AllMessage.vue?vue&type=script&lang=js\"\n\nimport \"./AllMessage.vue?vue&type=style&index=0&id=5eaf5580&lang=less\"\n\nimport exportComponent from \"/Users/qirong77/Desktop/Peterpan/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_4","xmlns","width","height","fill","viewBox","cx","cy","r","_createElementBlock","$data","onClick","$options","_Fragment","_renderList","message","read","key","keyss","_hoisted_8","_toDisplayString","title","date","content","_hoisted_11","components","data","unreads","readed","activeclass","meslist","showDialog","methods","setActive","cat","this","meslist2","unread","readAll","ElMessageBox","confirmButtonText","cancelButtonText","type","then","async","userid","window","localStorage","getItem","console","log","noti_res","request","method","url","is_active","platform","recipient_id","auth","username","password","headers","gen_noti","details","notify_generals","user_noti","notify_users","map","e","id","date_created","text","status","push","__exports__","render"],"sourceRoot":""}