(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[5881],{55877:function(e,t,o){var i=o(23570),n=o(71171),s=n;s.v1=i,s.v4=n,e.exports=s},45327:function(e){for(var t=[],o=0;o<256;++o)t[o]=(o+256).toString(16).substr(1);function i(e,o){var i=o||0,n=t;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}e.exports=i},85217:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var o=new Uint8Array(16);e.exports=function(){return t(o),o}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},23570:function(e,t,o){var i,n,s=o(85217),a=o(45327),r=0,l=0;function d(e,t,o){var d=t&&o||0,c=t||[];e=e||{};var u=e.node||i,h=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==h){var m=s();null==u&&(u=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==h&&(h=n=16383&(m[6]<<8|m[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),w=void 0!==e.nsecs?e.nsecs:l+1,f=g-r+(w-l)/1e4;if(f<0&&void 0===e.clockseq&&(h=h+1&16383),(f<0||g>r)&&void 0===e.nsecs&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=g,l=w,n=h,g+=122192928e5;var p=(1e4*(268435455&g)+w)%4294967296;c[d++]=p>>>24&255,c[d++]=p>>>16&255,c[d++]=p>>>8&255,c[d++]=255&p;var v=g/4294967296*1e4&268435455;c[d++]=v>>>8&255,c[d++]=255&v,c[d++]=v>>>24&15|16,c[d++]=v>>>16&255,c[d++]=h>>>8|128,c[d++]=255&h;for(var S=0;S<6;++S)c[d+S]=u[S];return t||a(c)}e.exports=d},71171:function(e,t,o){var i=o(85217),n=o(45327);function s(e,t,o){var s=t&&o||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var r=0;r<16;++r)t[s+r]=a[r];return t||n(a)}e.exports=s},52602:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return B}});var i=o(66252),n=o(49963);const s=e=>((0,i.dD)("data-v-196cb2f5"),e=e(),(0,i.Cn)(),e),a={id:"info"},r=s((()=>(0,i._)("div",{class:"tableHeader"},[(0,i._)("p",null,"发布时间"),(0,i._)("p",null,"发布平台"),(0,i._)("p",null,"公告标题"),(0,i._)("p",null,"创建原因"),(0,i._)("p",null,"公告发布"),(0,i._)("p",null,"公告内容")],-1))),l={class:"content2"},d={class:"paginationZone"},c={class:"fixedFullLoading"},u={class:"bottom"},h={key:0,class:"add-toast"};function m(e,t,o,s,m,g){const w=(0,i.up)("order-list"),f=(0,i.up)("a-pagination"),p=(0,i.up)("empty-data-placeholder"),v=(0,i.up)("a-spin"),S=(0,i.up)("a-space"),_=(0,i.up)("add-info");return(0,i.wg)(),(0,i.iD)("div",a,[r,(0,i._)("div",l,[(0,i.Wm)(w,{list:m.listShow},null,8,["list"]),(0,i.wy)((0,i._)("div",d,[(0,i.Wm)(f,{total:m.listAll.length,"show-total":(e,t)=>`${t[0]}-${t[1]} of ${e} items`,"page-size":m.pageSize,"default-current":1,current:m.currentPage,"onUpdate:current":t[0]||(t[0]=e=>m.currentPage=e)},null,8,["total","show-total","page-size","current"])],512),[[n.F8,0!==m.listShow.length]]),0===m.listShow.length?((0,i.wg)(),(0,i.j4)(p,{key:0,description:"暂无工单数据"})):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("div",c,[(0,i.Wm)(S,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,{size:"large"})])),_:1})],512),[[n.F8,m.isLoading]]),(0,i._)("div",u,[(0,i._)("div",{class:"button",onClick:t[1]||(t[1]=(...e)=>g.showAddDialog&&g.showAddDialog(...e))},"添加公告")]),m.ifShowAdd?((0,i.wg)(),(0,i.iD)("div",h,[(0,i.Wm)(_,{class:"add-info",onHideDialog:g.hideAddDialog,onAddInfo:e.addInfo},null,8,["onHideDialog","onAddInfo"])])):(0,i.kq)("",!0)])}const g=e=>((0,i.dD)("data-v-6a96a300"),e=e(),(0,i.Cn)(),e),w={class:"addInfo"},f={class:"top"},p=g((()=>(0,i._)("div",{class:"title"},"发布公告",-1))),v={class:"form"},S={class:"form-item"},_=g((()=>(0,i._)("label",{for:"title"},"公告标题",-1))),b={class:"form-item content"},y=g((()=>(0,i._)("label",{for:"content"},"公告内容",-1))),I={class:"form-item reason"},x=g((()=>(0,i._)("label",{for:"reason"},"创建原因",-1))),D={class:"form-item"},k=g((()=>(0,i._)("label",{for:"platform"},"发布平台",-1))),C={type:"text",id:"platform",class:"form-item-content",value:"服务商工作台",ref:"identity",readonly:"readonly"},O={class:"form-item"},A=g((()=>(0,i._)("label",{for:"status"},"公告发布",-1))),M=g((()=>(0,i._)("option",{value:"11001",selected:""},"普通",-1))),j=g((()=>(0,i._)("option",{value:"11000"},"紧急",-1))),E=[M,j],R={class:"buttonZone"},P={class:"edit-reason"};function $(e,t,o,s,a,r){const l=(0,i.up)("edit-reason-dialog");return(0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",f,[(0,i._)("div",{class:"cancel",onClick:t[0]||(t[0]=(...e)=>r.hideDialog&&r.hideDialog(...e))})]),p,(0,i._)("div",v,[(0,i._)("div",S,[_,(0,i.wy)((0,i._)("input",{type:"text",placeholder:"请输入标题",id:"title",class:"form-item-content","onUpdate:modelValue":t[1]||(t[1]=e=>a.monitoredMixedObj.title=e)},null,512),[[n.nr,a.monitoredMixedObj.title]])]),(0,i._)("div",b,[y,(0,i.wy)((0,i._)("textarea",{id:"content",class:"form-item-content","onUpdate:modelValue":t[2]||(t[2]=e=>a.monitoredMixedObj.content=e),ref:"content"},null,512),[[n.nr,a.monitoredMixedObj.content]])]),(0,i._)("div",I,[x,(0,i.wy)((0,i._)("input",{type:"text",placeholder:"",id:"reason",class:"form-item-content","onUpdate:modelValue":t[3]||(t[3]=e=>a.monitoredMixedObj.reason=e),ref:"reason"},null,512),[[n.nr,a.monitoredMixedObj.reason]])]),(0,i._)("div",D,[k,(0,i._)("input",C,null,512)]),(0,i._)("div",O,[A,(0,i.wy)((0,i._)("select",{id:"status","onUpdate:modelValue":t[4]||(t[4]=e=>a.monitoredMixedObj.status=e)},E,512),[[n.bM,a.monitoredMixedObj.status]])])]),(0,i._)("div",R,[(0,i._)("button",{class:"cancelBtn other-button",onClick:t[5]||(t[5]=(...e)=>r.hideDialog&&r.hideDialog(...e))},"取消"),(0,i._)("button",{class:"ensureBtn submit-button",onClick:t[6]||(t[6]=(...e)=>r.checkInput&&r.checkInput(...e))},"确认")]),(0,i.wy)((0,i._)("div",P,[(0,i.Wm)(l,{onCancelClick:r.hideEditReason,onEnsureClick:r.submit},null,8,["onCancelClick","onEnsureClick"])],512),[[n.F8,a.ifShowEditReason]])])}o(55877);var z=o(6819),L=o(92255),Z={name:"e-AddInfo",data(){return{monitoredMixedObj:{title:"",content:"",reason:"",status:"11001"},ifShowEditReason:!1}},methods:{hideDialog(){this.$emit("hideDialog")},checkInput(){""!==this.monitoredMixedObj.title?""!==this.monitoredMixedObj.content?""!==this.monitoredMixedObj.reason?(this.showEditReason(),console.log(this.ifShowEditReason)):this.$toast.error("请填写创建理由",240):this.$toast.error("请填写公告内容",240):this.$toast.error("请填写标题",240)},showEditReason(){this.ifShowEditReason=!0},hideEditReason(){this.ifShowEditReason=!1},async submit(e){this.hideEditReason();let t={user:{id:Number(window.localStorage.getItem("userID"))},version:"1.0.0",create_reason:e,work_line_id:1600,work_operation:4200,content:{send_id:Number(window.localStorage.getItem("userID")),platform:10003,create_reason:this.monitoredMixedObj.reason,title:this.monitoredMixedObj.title,status:Number(this.monitoredMixedObj.status),content:{text:this.monitoredMixedObj.content}}};console.log(t);try{const e=await(0,L.Xo)(t),{Code:o,msg:i}=e;200===o&&"success"===i?this.$toast.success("提交成功",240):this.$toast.error("提交失败",240)}catch(o){this.$toast.error("提交失败",240)}}},watch:{},components:{EditReasonDialog:z.Z}},N=o(83744);const V=(0,N.Z)(Z,[["render",$],["__scopeId","data-v-6a96a300"]]);var U=V,J=o(7667),W=o(467),q=o(59226),F=o(27623),H={name:"e-InfoProvider",beforeRouteEnter(e,t,o){"true"===window.localStorage.getItem("isStaff")?(window.localStorage.setItem("currentIndex010001",3),o()):(o({path:"/tools/login"}),window.localStorage.removeItem("list"),window.localStorage.removeItem("order"),window.localStorage.removeItem("currentIndex010001"),window.localStorage.removeItem("userID"),window.localStorage.removeItem("username"),window.localStorage.removeItem("authToken"),window.localStorage.removeItem("isStaff"),window.localStorage.removeItem("isSuperUser"),window.localStorage.removeItem("isProvider"),window.localStorage.removeItem("providerID"))},beforeRouteLeave(e,t,o){this.updateMark?confirm("还有修改未提交，确定离开？")?(this.couponList=window.JSON.parse(window.JSON.stringify(this.originalCouponList)),o()):(this.$bus.$emit("setCurrentIndex010001To3"),window.localStorage.setItem("currentIndex010001",3),o(!1)):o()},async mounted(){let e={is_active:!0,platform:10003};this.isLoading=!0;try{const t=await(0,L.Lx)(e);console.log("info",t);const{Code:o,msg:i}=t;if(200===o&&"success"===i){console.log(t.details.notifygenerals),this.listAll=t.details.notifygenerals.reverse(),this.totalPage=Math.ceil(this.listAll.length/this.pageSize);const e=window.JSON.parse(window.JSON.stringify(this.listAll));0===this.listShow.length&&(this.listShow=e.slice(0,this.pageSize)),this.currentPage===this.totalPage&&(this.listShow=e.slice(this.pageSize*(this.currentPage-1),this.pageSize*this.currentPage))}else this.$toast.error("获取工单数据失败 ",240),console.log("获取工单数据失败 ")}catch(t){this.$toast.error("获取工单数据失败  ",240),console.log("获取工单数据失败 ")}this.isLoading=!1},data(){return{ifShowAdd:!1,listAll:[],listShow:[],pageSize:8,currentPage:1,totalPage:0,isShowCoverPage:!1,showIndex:-1,x:null,y:null,isLoading:!1}},methods:{showAddDialog(){this.ifShowAdd=!0},hideAddDialog(){this.ifShowAdd=!1},beforeUnloadHandler(e){this.updateMark&&(e.returnValue="离开此页面?")}},watch:{currentPage(e){const t=window.JSON.parse(window.JSON.stringify(this.listAll));this.listShow=t.slice(this.pageSize*(e-1),this.pageSize*e)}},components:{Scroll:W.Z,AddInfo:U,DeleteEnsureDialog2:J.Z,EditReasonDialog:z.Z,EmptyDataPlaceholder:F.Z,OrderList:q.Z}};const T=(0,N.Z)(H,[["render",m],["__scopeId","data-v-196cb2f5"]]);var B=T}}]);
//# sourceMappingURL=5881.bdf2bc86.js.map