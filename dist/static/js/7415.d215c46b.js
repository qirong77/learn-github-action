"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[7415],{5050:function(e,t,o){function a(e,t){let o=null;function a(...a){o&&clearTimeout(o),o=setTimeout((()=>{e.apply(this,a)}),t)}return a}function r(e){return String.fromCharCode(e)}function i(e=null){let t="";if(null!==e){for(let o=0;o<e.length;o+=1){const a=e.charAt(o);if("+"===a)t+=" ";else if("%"===a){const a=e.substring(o+1,o+3);parseInt(`0x${a}`)>127?(t+=decodeURI("%"+a.toString()+e.substring(o+3,o+9).toString()),o+=8):(t+=r(parseInt(`0x${a}`)),o+=2)}else t+=a}return t}}o.d(t,{Ds:function(){return a},EO:function(){return i},$i:function(){return n},lM:function(){return c},h3:function(){return l},mr:function(){return d},ss:function(){return f},v2:function(){return m},te:function(){return h},Zy:function(){return b},C_:function(){return g},Cj:function(){return _},HO:function(){return w},_e:function(){return v},d0:function(){return k}});var s="                                 \"$_#(=[>+.&']|~Ts2W5lzy0w!}*-;\\<bad7ouxHOZXvrjCQ9fp1NPnmRB@?^,`{YUASKigtMeGEL8hkIV4cJD36Fq)/%: ";function n(e){let t="";for(const o in t="",e)t+=s[e[o].charCodeAt(0)];return t}function c(e){let t="",o=null;for(const a in t="",o=new Map,s)o[s[a]]=a;for(const a in o[" "]=99,e)t+=String.fromCharCode(o[e[a]]);return t}function l(e){const t=e.split("").slice(0,10);return t[4]=".",t[7]=".",t.join("")}function d(e,t,o,a,r,i){const s=e,n=Number(t)<10?"0"+t:t,c=Number(o)<10?"0"+o:o,l=Number(a)<10?"0"+a.slice(1,2):a,d=Number(r)<10?"0"+r.slice(1,2):r,u=Number(i)<10?"0"+i.slice(1,2):i;return`${s}-${n}-${c}T${l}:${d}:${u}Z`}const u=e=>new Promise((t=>{setTimeout((()=>{e.style.backgroundColor="transparent",t()}),200)})),p=e=>new Promise((t=>{setTimeout((()=>{e.style.backgroundColor="red",t()}),200)}));async function f(e){return e.style.backgroundColor="red",await u(e),await p(e),await u(e),await p(e),await u(e),new Promise((e=>{e()}))}function m(e,t){const o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(let r=0;r<o.length;r++){const i=e[o[r]],s=t[a[r]],n=typeof i,c=typeof s;if(n!==c)return!1;if("object"===n&&"object"===c){const e=m(i,s);if(!e)return!1}else if("array"===n&&"array"===c){const e=h(i,s);if(!e)return!1}else if(i!==s)return!1}return!0}function h(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){if(typeof e[o]!==typeof t[o])return!1;if("object"===typeof e[o]&&"object"===typeof t[o]){const a=m(e[o],t[o]);if(!a)return!1}else if("array"===typeof e[o]&&"array"===typeof t[o]){const a=h(e[o],t[o]);if(!a)return!1}else if(e[o]!==t[o])return!1}return!0}const b=e=>{const t=e.split("\n"),o=t.filter((e=>e&&e.trim()));for(const a in o)o[a]=o[a].trim();return o};function g(e,t,o=.2){return new Promise(((a,r)=>{const i=new FileReader;i.readAsDataURL(e),i.onerror=()=>{r({code:"0000",msg:`图片读取失败，错误码为${i.error.code}`})},i.onload=()=>{const e=new Image;e.src=i.result,e.onload=()=>{const{width:r,height:i}=e,s=r/i;a(s<t-o||s>t+o?{code:"0010",msg:"图片长宽比例不符要求"}:{code:"1111",msg:"图片长宽比例符合要求"})}}}))}function _(e){const t=[];for(let o=0;o<e.length;o++)-1===t.indexOf(e[o])&&t.push(e[o]);return t}function w(e){const t=e.replace(/-/g,"."),o=t.replace("T"," ");return o.slice(0,16)}function v(e){return e.substring(0,e.lastIndexOf("."))}function k(){let e,t;return window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(t=document.documentElement.clientHeight,e=document.documentElement.clientWidth),[e,t]}},10399:function(e,t,o){o.d(t,{t4:function(){return r},Ne:function(){return i},ad:function(){return s},ql:function(){return n},vN:function(){return c},IV:function(){return l},gQ:function(){return d},bC:function(){return u},_U:function(){return p}});var a=o(30048);function r(e){return console.log("request activity list"),(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/product/all/provider",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function i(e){return(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/product/get",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function s(e){return(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/product/get",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function n(){return(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/mobile/ios/v1_0_0/envconfig/get",auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function c(e){return(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/workticketaudit/submit",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function l(e){return(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/workticketaudit/submit",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function d(e,t){return(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/workticketaudit/submit",data:{user:{id:Number(window.localStorage.getItem("userID"))},version:"1.0.0",create_reason:e,work_line_id:1400,work_operation:4300,content:t},auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function u(e,t){return(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/workticketaudit/submit",data:{user:{id:Number(window.localStorage.getItem("userID"))},version:"1.0.0",create_reason:e,work_line_id:1400,work_operation:4400,content:{id:t}},auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function p(e,t){return(0,a.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/workticketaudit/submit",data:{user:{id:Number(window.localStorage.getItem("userID"))},version:"1.0.0",create_reason:e,work_line_id:1400,work_operation:4600,content:{id:t}},auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}},27623:function(e,t,o){o.d(t,{Z:function(){return d}});var a=o(66252),r=o(3577);const i={class:"empty-data-placeholder"};function s(e,t,o,s,n,c){const l=(0,a.up)("a-empty");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(l,null,{description:(0,a.w5)((()=>[(0,a._)("span",null,(0,r.zw)(o.description),1)])),_:1})])}var n={name:"e-EmptyDataPlaceholder",props:{description:{type:String,default:"暂无数据"}}},c=o(83744);const l=(0,c.Z)(n,[["render",s]]);var d=l},71618:function(e,t,o){o.r(t),o.d(t,{default:function(){return Vt}});var a=o(66252),r=o(3577),i=o(49963);const s={id:"order-management"},n={class:"order-list"},c={class:"paginationZone"},l={class:"fixedFullLoading"},d={class:"product-list"};function u(e,t,o,u,p,f){const m=(0,a.up)("tab-bar"),h=(0,a.up)("content-list"),b=(0,a.up)("a-pagination"),g=(0,a.up)("empty-data-placeholder"),_=(0,a.up)("scroll"),w=(0,a.up)("prepare-form"),v=(0,a.up)("a-spin"),k=(0,a.up)("a-space"),y=(0,a.up)("product-list");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.wy)((0,a._)("div",n,[(0,a.Wm)(m,{list:p.orderStatusList,onTabBarItemClick:f.changeActiveList,onResetprod:f.reset},null,8,["list","onTabBarItemClick","onResetprod"]),(0,a.Wm)(_,{class:"scroll-content",ref:"scroll"},{default:(0,a.w5)((()=>[0!==p.activeShowList.length?((0,a.wg)(),(0,a.j4)(h,{key:0,list:p.activeShowList,class:"contentList",onChangeControln:f.changeControln,onCheckFormClick:f.showPrepareForm,onConfirmOrder:f.confirmOrder,onCompleteOrder:f.completeOrder},null,8,["list","onChangeControln","onCheckFormClick","onConfirmOrder","onCompleteOrder"])):(0,a.kq)("",!0),(0,a._)("div",c,[0!==p.activeShowList.length?((0,a.wg)(),(0,a.j4)(b,{key:0,total:p.activeList?p.activeList.length:0,"show-total":(e,t)=>`${t[0]}-${t[1]} of ${e} items`,"page-size":p.pageSize,"default-current":1,current:p.currentPage,"onUpdate:current":t[0]||(t[0]=e=>p.currentPage=e)},null,8,["total","show-total","page-size","current"])):(0,a.kq)("",!0)]),0===p.activeShowList.length?((0,a.wg)(),(0,a.j4)(g,{key:1,description:"暂无订单"})):(0,a.kq)("",!0)])),_:1},512),(0,a.wy)((0,a._)("div",{class:(0,r.C_)(["right-cover",p.fadeInAnimate?"FriendUrlCreateWindowFadeIn":"FriendUrlCreateWindowFadeOut"])},[(0,a.Wm)(w,{ref:"prepareForm",onCloseIconClick:f.closePrepareForm,formData:f.getFormData()},null,8,["onCloseIconClick","formData"])],2),[[i.F8,p.ifShowPrepareForm]]),(0,a.wy)((0,a._)("div",l,[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,{size:"large"})])),_:1})],512),[[i.F8,p.isLoading]])],512),[[i.F8,p.showorder]]),(0,a.wy)((0,a._)("div",d,[(0,a.Wm)(y,{prods:p.prodlist,onSetprod:f.setprod},null,8,["prods","onSetprod"])],512),[[i.F8,!p.showorder]])])}const p={class:"tab-zone"};function f(e,t,o,i,s,n){return(0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("p",{class:(0,r.C_)(["tab-item tab-text",0===s.currentIndex?"selected-item":" "]),onClick:t[0]||(t[0]=e=>n.clickBarItem(0))},(0,r.zw)(o.list[0]),3),(0,a._)("p",{class:(0,r.C_)(["tab-item tab-text",1===s.currentIndex?"selected-item":" "]),onClick:t[1]||(t[1]=e=>n.clickBarItem(1))},(0,r.zw)(o.list[1]),3),(0,a._)("p",{class:(0,r.C_)(["tab-item tab-text",2===s.currentIndex?"selected-item":" "]),onClick:t[2]||(t[2]=e=>n.clickBarItem(2))},(0,r.zw)(o.list[2]),3),(0,a._)("p",{class:(0,r.C_)(["tab-item tab-text",3===s.currentIndex?"selected-item":" "]),onClick:t[3]||(t[3]=e=>n.clickBarItem(3))},(0,r.zw)(o.list[3]),3),(0,a._)("p",{class:(0,r.C_)(["tab-item tab-text",4===s.currentIndex?"selected-item":" "]),onClick:t[4]||(t[4]=e=>n.clickBarItem(4))},(0,r.zw)(o.list[4]),3),(0,a._)("p",{class:(0,r.C_)(["tab-item tab-text",5===s.currentIndex?"selected-item":" "]),onClick:t[5]||(t[5]=e=>n.clickBarItem(5))},(0,r.zw)(o.list[5]),3),(0,a._)("p",{class:(0,r.C_)(["tab-item tab-text",6===s.currentIndex?"selected-item":" "]),onClick:t[6]||(t[6]=e=>n.clickBarItem(6))},(0,r.zw)(o.list[6]),3),(0,a._)("p",{class:(0,r.C_)(["tab-item tab-text",7===s.currentIndex?"selected-item":" "]),onClick:t[7]||(t[7]=e=>n.clickBarItem(7))},(0,r.zw)(o.list[7]),3),(0,a._)("p",{class:"tab-item tab-text",onClick:t[8]||(t[8]=(...e)=>n.reset&&n.reset(...e))},"返回")])}var m={name:"e-TabBar",props:{list:{type:Array,default(){return[]}}},data(){return{currentIndex:0}},methods:{reset(){this.$emit("resetprod")},clickBarItem(e){let t;switch(this.currentIndex=e,e){case 0:t=1100;break;case 1:t=1101;break;case 2:t=1102;break;case 3:t=1103;break;case 4:t=1104;break;case 5:t=1105;break;case 6:t=1106;break;case 7:t=1107;break;default:t=1100}this.$emit("tabBarItemClick",t)}}},h=o(83744);const b=(0,h.Z)(m,[["render",f],["__scopeId","data-v-ea1a9a64"]]);var g=b;const _=e=>((0,a.dD)("data-v-e88dba8e"),e=e(),(0,a.Cn)(),e),w={class:"pro-lsit"},v={class:"listhead row"},k=_((()=>(0,a._)("div",{class:"cat whitebg"},"待上架",-1))),y=_((()=>(0,a._)("div",{class:"cat whitebg"},"履行中",-1))),C=_((()=>(0,a._)("div",{class:"cat whitebg"},"待结算",-1))),x=_((()=>(0,a._)("div",{class:"cat whitebg"},"可结算",-1))),I={key:0,class:"ifwrapper"},z=["onClick"],D=["onClick"],S=["onClick"],L=["onClick"],A=["onClick"];function P(e,t,o,i,s,n){return(0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("div",v,[k,(0,a._)("div",{class:"cat whitebg",onClick:t[0]||(t[0]=(...e)=>n.prod&&n.prod(...e))},"在售中"),y,C,x]),o.prods.length>1?((0,a.wg)(),(0,a.iD)("div",I,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.prods,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"product-row row",key:e[0].product},[(0,a._)("div",{class:(0,r.C_)(["cat",void 0!==e[0].prodstatus?"whitebg":""])},[void 0==e[0].prodstatus?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"in",onClick:t=>n.setprod(e[0].product)},(0,r.zw)(n.getdate(e))+" - "+(0,r.zw)(n.getname(e)),9,z)):(0,a.kq)("",!0)],2),(0,a._)("div",{class:(0,r.C_)(["cat",1!==e[0].prodstatus?"whitebg":""])},[1==e[0].prodstatus?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"in",onClick:t=>n.setprod(e[0].product)},(0,r.zw)(n.getdate(e))+" - "+(0,r.zw)(n.getname(e)),9,D)):(0,a.kq)("",!0)],2),(0,a._)("div",{class:(0,r.C_)(["cat",2!==e[0].prodstatus?"whitebg":""])},[2==e[0].prodstatus?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"in",onClick:t=>n.setprod(e[0].product)},(0,r.zw)(n.getdate(e))+" - "+(0,r.zw)(n.getname(e)),9,S)):(0,a.kq)("",!0)],2),(0,a._)("div",{class:(0,r.C_)(["cat",3!==e[0].prodstatus?"whitebg":""])},[3==e[0].prodstatus?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"in",onClick:t=>n.setprod(e[0].product)},(0,r.zw)(n.getdate(e))+" - "+(0,r.zw)(n.getname(e)),9,L)):(0,a.kq)("",!0)],2),(0,a._)("div",{class:(0,r.C_)(["cat",4!==e[0].prodstatus?"whitebg":""])},[4==e[0].prodstatus?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"in",onClick:t=>n.setprod(e[0].product)},(0,r.zw)(n.getdate(e))+" - "+(0,r.zw)(n.getname(e)),9,A)):(0,a.kq)("",!0)],2)])))),128))])):(0,a.kq)("",!0)])}var $={props:{prods:{type:Array,default(){return[{}]}}},data(){return{}},methods:{getdate(e){return e.duration,e[0].duration.slice(0,5)},getname(e){return e[0].topic.slice(0,5)},prod(){console.log(this.prods)},setprod(e){console.log(e),this.$emit("setprod",e)}},created(){console.log("dingdan guanli prudcut list")}};const N=(0,h.Z)($,[["render",P],["__scopeId","data-v-e88dba8e"]]);var T=N,Z=o(467),F=o(61416),O=o(60534),j=o(57538);const U=e=>((0,a.dD)("data-v-99c55c16"),e=e(),(0,a.Cn)(),e),q={class:"content-list"},B={class:"basic"},E={class:"top"},W={style:{display:"flex","align-items":"center",height:"24px"}},H={style:{color:"#fff","margin-top":"9px","margin-right":"10px"}},R=["data-clipboard-text"],K={style:{display:"flex","align-items":"center",height:"24px"}},M={style:{color:"#fff","margin-top":"9px","margin-right":"10px"}},Q=["data-clipboard-text"],Y={class:"product"},V={class:"thumbnail"},G={alt:""},J={class:"text-info"},X={style:{display:"flex","align-items":"center",height:"24px"}},ee={style:{color:"#fff","margin-top":"9px","margin-right":"6px"}},te=["data-clipboard-text"],oe={class:"topic"},ae={class:"dateCity"},re={key:0,class:"priceZone"},ie={style:{"text-decoration":"line-through",color:"#aaa"}},se=U((()=>(0,a._)("p",null,"未付款",-1))),ne={key:1,class:"priceZone"},ce={style:{"text-decoration":"line-through",color:"#aaa"}},le=U((()=>(0,a._)("p",{style:{color:"var(--color-background-button-green)"}},"已付款",-1))),de={key:2,class:"priceZone"},ue={style:{"text-decoration":"line-through",color:"#aaa"}},pe=U((()=>(0,a._)("p",null,"待参加",-1))),fe={key:3,class:"priceZone"},me={style:{"text-decoration":"line-through",color:"#aaa"}},he=U((()=>(0,a._)("p",{style:{color:"rgb(145, 145, 145)"}},"已参加",-1))),be={key:4,class:"priceZone"},ge={style:{"text-decoration":"line-through",color:"#aaa"}},_e=U((()=>(0,a._)("p",null,"退款中",-1))),we={key:5,class:"priceZone"},ve={style:{"text-decoration":"line-through",color:"#aaa"}},ke=U((()=>(0,a._)("p",{style:{color:"rgb(145, 145, 145)"}},"已退款",-1))),ye={key:6,class:"priceZone"},Ce={style:{"text-decoration":"line-through",color:"#aaa"}},xe=U((()=>(0,a._)("p",{style:{color:"rgb(145, 145, 145)"}},"已取消",-1))),Ie={class:"camper"},ze={class:"titleZone"},De=U((()=>(0,a._)("p",{class:"title"},"出行人信息",-1))),Se=["onClick"],Le=["onClick"],Ae={class:"ngm"},Pe={class:"realid"},$e=["onClick"],Ne={class:"contact"},Te=U((()=>(0,a._)("p",{class:"title"},"联系人信息",-1))),Ze={class:"ngm"},Fe={class:"operation"},Oe=["onClick"],je=["onClick"],Ue={key:2,class:"text-description"},qe={key:3,class:"text-description"},Be={key:4,class:"text-description"},Ee={key:5,class:"mixed"},We=U((()=>(0,a._)("p",null,"退款金额",-1))),He=U((()=>(0,a._)("p",null,"申请时间",-1))),Re=U((()=>(0,a._)("div",{class:"button-zone"},[(0,a._)("button",{class:"ensureTuikuan"},"同意退款"),(0,a._)("button",{class:"rejectTuikuan"},"拒绝退款")],-1))),Ke=[We,He,Re];function Me(e,t,o,s,n,c){const l=(0,a.up)("a-tooltip"),d=(0,a.up)("content-list-item"),u=(0,a.Q2)("lazy");return(0,a.wg)(),(0,a.iD)("div",q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.list,((e,o)=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,class:"content-list-item"},{default:(0,a.w5)((()=>[(0,a._)("div",B,[(0,a._)("div",E,[(0,a.Wm)(l,null,{title:(0,a.w5)((()=>[(0,a._)("div",W,[(0,a._)("p",H,(0,r.zw)(e.order_id),1),(0,a._)("img",{src:F,style:{cursor:"pointer"},class:"copyIcon","data-clipboard-text":e.order_id,onClick:t[0]||(t[0]=(...e)=>c.toastAfterCopy&&c.toastAfterCopy(...e))},null,8,R)])])),default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)("p",{class:"order-id",key:e.order_id}," 订单号: "+(0,r.zw)(e.order_id),1))])),_:2},1024),(0,a.Wm)(l,null,{title:(0,a.w5)((()=>[(0,a._)("div",K,[(0,a._)("p",M,(0,r.zw)(c.processCreateTime(e.date_created)),1),(0,a._)("img",{src:F,style:{cursor:"pointer"},class:"copyIcon","data-clipboard-text":c.processCreateTime(e.date_created),onClick:t[1]||(t[1]=(...e)=>c.toastAfterCopy&&c.toastAfterCopy(...e))},null,8,Q)])])),default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)("p",{class:"order-create-time",key:e.order_id}," 下单时间: "+(0,r.zw)(c.processCreateTime(e.date_created)),1))])),_:2},1024)]),(0,a._)("div",Y,[(0,a._)("div",V,[(0,a.wy)((0,a._)("img",G,null,512),[[u,e.thumbnail?e.thumbnail:""]])]),(0,a._)("div",J,[(0,a.Wm)(l,null,{title:(0,a.w5)((()=>[(0,a._)("div",X,[(0,a._)("p",ee,(0,r.zw)(e.topic),1),(0,a._)("img",{src:F,style:{cursor:"pointer"},class:"copyIcon","data-clipboard-text":e.topic,onClick:t[2]||(t[2]=(...e)=>c.toastAfterCopy&&c.toastAfterCopy(...e))},null,8,te)])])),default:(0,a.w5)((()=>[(0,a._)("p",oe,(0,r.zw)(e.topic),1)])),_:2},1024),(0,a._)("div",ae,[(0,a._)("p",null,(0,r.zw)(e.duration),1),(0,a._)("p",null,(0,r.zw)(e.city),1)])])]),1101===e.status?((0,a.wg)(),(0,a.iD)("div",re,[(0,a._)("p",null,[(0,a.Uk)(" 应付款: ￥"+(0,r.zw)(e.total_price)+" ",1),(0,a._)("span",ie,"￥"+(0,r.zw)(e.original_total_price),1)]),se])):(0,a.kq)("",!0),1102===e.status?((0,a.wg)(),(0,a.iD)("div",ne,[(0,a._)("p",null,[(0,a.Uk)(" 实付款: ￥"+(0,r.zw)(e.total_price)+" ",1),(0,a._)("span",ce,"￥"+(0,r.zw)(e.original_total_price),1)]),le])):(0,a.kq)("",!0),1103===e.status?((0,a.wg)(),(0,a.iD)("div",de,[(0,a._)("p",null,[(0,a.Uk)(" 实付款: ￥"+(0,r.zw)(e.total_price)+" ",1),(0,a._)("span",ue,"￥"+(0,r.zw)(e.original_total_price),1)]),pe])):(0,a.kq)("",!0),1104===e.status?((0,a.wg)(),(0,a.iD)("div",fe,[(0,a._)("p",null,[(0,a.Uk)(" 实付款: ￥"+(0,r.zw)(e.total_price)+" ",1),(0,a._)("span",me,"￥"+(0,r.zw)(e.original_total_price),1)]),he])):(0,a.kq)("",!0),1105===e.status?((0,a.wg)(),(0,a.iD)("div",be,[(0,a._)("p",null,[(0,a.Uk)(" 实付款: ￥"+(0,r.zw)(e.total_price)+" ",1),(0,a._)("span",ge,"￥"+(0,r.zw)(e.original_total_price),1)]),_e])):(0,a.kq)("",!0),1106===e.status?((0,a.wg)(),(0,a.iD)("div",we,[(0,a._)("p",null,[(0,a.Uk)(" 实付款: ￥"+(0,r.zw)(e.total_price)+" ",1),(0,a._)("span",ve,"￥"+(0,r.zw)(e.original_total_price),1)]),ke])):(0,a.kq)("",!0),1107===e.status?((0,a.wg)(),(0,a.iD)("div",ye,[(0,a._)("p",null,[(0,a.Uk)(" 应付款: ￥"+(0,r.zw)(e.total_price)+" ",1),(0,a._)("span",Ce,"￥"+(0,r.zw)(e.original_total_price),1)]),xe])):(0,a.kq)("",!0)]),(0,a._)("div",Ie,[(0,a._)("div",ze,[De,(0,a.wy)((0,a._)("img",{src:O,onClick:e=>c.changeControln(o)},null,8,Se),[[i.F8,0===e.controln]]),(0,a.wy)((0,a._)("img",{src:j,onClick:e=>c.changeControln(o)},null,8,Le),[[i.F8,1===e.controln]])]),(0,a._)("div",Ae,[(0,a._)("p",null,(0,r.zw)(e.campers[0].name),1),(0,a._)("p",null,(0,r.zw)(e.campers[0].gender),1),(0,a._)("p",null,(0,r.zw)(e.campers[0].mobile),1)]),(0,a._)("p",Pe," 身份证号: "+(0,r.zw)(c.processRealidPresent(e.controln,e.campers[0].realid)),1),((0,a.wg)(),(0,a.iD)("button",{key:0,class:"prepare-form-check-button",onClick:e=>c.checkPrepareFormClick(o)}," 查看报名表 ",8,$e))]),(0,a._)("div",Ne,[Te,(0,a._)("div",Ze,[(0,a._)("p",null,(0,r.zw)(e.direct_contact_name),1),(0,a._)("p",null,(0,r.zw)(e.direct_contact_mobile),1)])]),(0,a._)("div",Fe,[1102===e.status?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"ensureOrder",onClick:e=>c.confirmOrder(o)}," 确认订单 ",8,Oe)):(0,a.kq)("",!0),1103===e.status?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"ensureComplete",onClick:e=>c.completeOrder(o)}," 交易完成 ",8,je)):(0,a.kq)("",!0),1104===e.status?((0,a.wg)(),(0,a.iD)("div",Ue,"已完成")):(0,a.kq)("",!0),1106===e.status?((0,a.wg)(),(0,a.iD)("div",qe,"已退款")):(0,a.kq)("",!0),1107===e.status?((0,a.wg)(),(0,a.iD)("div",Be,"已取消")):(0,a.kq)("",!0),1105===e.status?((0,a.wg)(),(0,a.iD)("div",Ee,Ke)):(0,a.kq)("",!0)])])),_:2},1024)))),128))])}const Qe={class:"content-list-item"};function Ye(e,t,o,r,i,s){return(0,a.wg)(),(0,a.iD)("div",Qe,[(0,a.WI)(e.$slots,"default")])}var Ve={name:"e-ContentListItem"};const Ge=(0,h.Z)(Ve,[["render",Ye]]);var Je=Ge,Xe=o(5050),et={name:"e-ContentList",mounted(){this.copyBtn=new this.clipboard(".copyIcon")},props:{list:{type:Array,default(){return[]}}},data(){return{copyBtn:null}},methods:{processCreateTime(e){return(0,Xe.HO)(e)},toastAfterCopy(){const e=this;let t=e.copyBtn;t.on("success",(function(){e.$toast.success("复制成功",240)})),t.on("error",(function(){e.$toast.error("复制失败",240)}))},changeControln(e){this.$emit("changeControln",e)},processRealidPresent(e,t){return 0===e?`${t.substr(0,6)}********${t.substr(14,4)}`:t},checkPrepareFormClick(e){this.$emit("checkFormClick",e)},confirmOrder(e){this.$emit("confirmOrder",e)},completeOrder(e){this.$emit("completeOrder",e)}},components:{ContentListItem:Je}};const tt=(0,h.Z)(et,[["render",Me],["__scopeId","data-v-99c55c16"]]);var ot=tt;const at=e=>((0,a.dD)("data-v-1d6f4f1a"),e=e(),(0,a.Cn)(),e),rt={class:"prepare-form"},it={class:"block block1"},st=at((()=>(0,a._)("h2",null,"监护人信息*",-1))),nt={class:"key-value"},ct={class:"key-value-item"},lt=at((()=>(0,a._)("p",null,"姓名",-1))),dt={class:"key-value-item"},ut=at((()=>(0,a._)("p",null,"身份证号",-1))),pt={class:"key-value-item"},ft=at((()=>(0,a._)("p",null,"联系电话",-1))),mt={class:"block block2"},ht=at((()=>(0,a._)("h2",null,"紧急联系人*",-1))),bt={class:"key-value"},gt={class:"key-value-item"},_t=at((()=>(0,a._)("p",null,"姓名",-1))),wt={class:"key-value-item"},vt=at((()=>(0,a._)("p",null,"联系电话",-1))),kt={class:"key-value-item"},yt=at((()=>(0,a._)("p",null,"关系",-1))),Ct={class:"block block3"},xt=at((()=>(0,a._)("h2",null,"个人资料*",-1))),It={class:"key-value"},zt={class:"key-value-item"},Dt=at((()=>(0,a._)("p",null,"身高",-1))),St={class:"key-value-item"},Lt=at((()=>(0,a._)("p",null,"体重",-1))),At={class:"key-value-item"},Pt=at((()=>(0,a._)("p",null,"血型",-1))),$t=at((()=>(0,a._)("p",null,"有无药物过敏",-1))),Nt={class:"details"},Tt=at((()=>(0,a._)("p",null,"饮食禁忌",-1))),Zt={class:"details"},Ft=at((()=>(0,a._)("p",null,"其他健康情况",-1))),Ot={class:"details"};function jt(e,t,o,i,s,n){const c=(0,a.up)("scroll");return(0,a.wg)(),(0,a.iD)("div",rt,[(0,a._)("div",{class:"cancel",onClick:t[0]||(t[0]=(...e)=>n.closeIconClick&&n.closeIconClick(...e))}),(0,a.Wm)(c,{class:"scroll-content","probe-type":3,ref:"scroll"},{default:(0,a.w5)((()=>[(0,a._)("div",it,[st,(0,a._)("div",nt,[(0,a._)("div",ct,[lt,(0,a._)("p",null,(0,r.zw)(o.formData.guardian_name||"暂无"),1)]),(0,a._)("div",dt,[ut,(0,a._)("p",null,(0,r.zw)(o.formData.guardian_realid||"暂无"),1)]),(0,a._)("div",pt,[ft,(0,a._)("p",null,(0,r.zw)(o.formData.guardian_phone||"暂无"),1)])])]),(0,a._)("div",mt,[ht,(0,a._)("div",bt,[(0,a._)("div",gt,[_t,(0,a._)("p",null,(0,r.zw)(o.formData.emergency_name||"暂无"),1)]),(0,a._)("div",wt,[vt,(0,a._)("p",null,(0,r.zw)(o.formData.emergency_phone||"暂无"),1)]),(0,a._)("div",kt,[yt,(0,a._)("p",null,(0,r.zw)(o.formData.emergency_relation||"暂无"),1)])])]),(0,a._)("div",Ct,[xt,(0,a._)("div",It,[(0,a._)("div",zt,[Dt,(0,a._)("p",null,(0,r.zw)(o.formData.blood_type||"暂无"),1)]),(0,a._)("div",St,[Lt,(0,a._)("p",null,(0,r.zw)(o.formData.blood_type||"暂无"),1)]),(0,a._)("div",At,[Pt,(0,a._)("p",null,(0,r.zw)(o.formData.blood_type||"暂无"),1)]),(0,a._)("div",{class:"key-value-item",style:(0,r.j5)(o.formData.is_drug_allergy?{color:"red"}:{})},[$t,(0,a._)("p",null,(0,r.zw)(o.formData.is_drug_allergy?"有":"无"),1),(0,a._)("p",Nt,(0,r.zw)(o.formData.is_drug_allergy_details||"暂无"),1)],4),(0,a._)("div",{class:"key-value-item",style:(0,r.j5)(o.formData.is_dietary_taboos?{color:"red"}:{})},[Tt,(0,a._)("p",null,(0,r.zw)(o.formData.is_dietary_taboos?"有":"无"),1),(0,a._)("p",Zt,(0,r.zw)(o.formData.dietary_taboos_details||"暂无"),1)],4),(0,a._)("div",{class:"key-value-item",style:(0,r.j5)(o.formData.is_disease?{color:"red"}:{})},[Ft,(0,a._)("p",null,(0,r.zw)(o.formData.is_disease?"有":"无"),1),(0,a._)("p",Ot,(0,r.zw)(o.formData.disease_details||"暂无"),1)],4)])])])),_:1},512)])}var Ut={name:"e-PrepareForm",props:{formData:{type:Object,default(){return{}}}},data(){return{ifShowImage2:!1}},methods:{closeIconClick(){this.$emit("closeIconClick")},refreshScroll(){this.$refs.scroll.refresh()}},components:{Scroll:Z.Z},mounted(){}};const qt=(0,h.Z)(Ut,[["render",jt],["__scopeId","data-v-1d6f4f1a"]]);var Bt=qt,Et=o(27623),Wt=o(30048);function Ht(e){return(0,Wt.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/provider/all/orders",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function Rt(e){return(0,Wt.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/order/confirm",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function Kt(e){return(0,Wt.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/order/complete",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}var Mt=o(10399),Qt={name:"e-orderManagement",beforeRouteEnter(e,t,o){"true"===window.localStorage.getItem("isProvider")?(window.localStorage.setItem("currentIndex010006",3),o()):(o({path:"/tools/login"}),window.localStorage.removeItem("list"),window.localStorage.removeItem("order"),window.localStorage.removeItem("currentIndex010006"),window.localStorage.removeItem("userID"),window.localStorage.removeItem("username"),window.localStorage.removeItem("authToken"),window.localStorage.removeItem("isStaff"),window.localStorage.removeItem("isSuperUser"),window.localStorage.removeItem("isProvider"),window.localStorage.removeItem("providerID"))},activated(){},async created(){let e;this.isLoading=!0;const t={id:Number(window.localStorage.getItem("providerID"))};try{if(e=await Ht(t),console.log("all list ; ",e),200!==e.Code||"success"!==e.msg)return void this.$toast.error("订单数据获取失败",240);{console.log("succes"),0===e.details.orders.length?this.$toast.success("您还没有订单数据",240):this.$toast.success("订单数据获取成功",240);let t=e.details.orders;for(let e=0;e<t.length;e++)t[e].thumbnail="/media/%E6%A8%AA%E6%9D%BF%E9%A3%8E%E9%87%871_mK0Bs09.jpg",t[e].topic="热爱AI的青少年入门体验营",t[e].duration="03/04-03/03";console.log(t,"ooooriginal");let o=[t],a=[...t];console.log(o),console.log(a);for(let e=1;e<5;e++)o[e]=t.map((t=>{let o={...t};return console.log(t),o.product=10+e,o.prodstatus=e,o.thumbnail="/media/%E6%A8%AA%E6%9D%BF%E9%A3%8E%E9%87%871_mK0Bs09.jpg",o.topic="热爱AI的青少年入门体验营",o.duration="03/04-03/03",console.log(o),o})),console.log(o),a=[...a,...o[e]];console.log("after th loop orders:"),console.log(a);let r=a;r.sort(((e,t)=>e.product-t.product));let i=r,s=[[]];s[0][0]=i[0];for(let e=1;e<i.length;e++){let t=s.length,o=s[t-1].length;s[t-1][o-1].product==i[e].product?s[t-1][o]=i[e]:(s[t]=[],s[t][0]=i[e])}console.log("prod ar: ",s),this.prodlist=s,console.log(this.prodlist),this.allList=t}}catch(o){return console.log(o),void this.$toast.error("订单数据获取失败",240)}},data(){return{showorder:!1,orderStatusList:["全部","已下单","已付款","待参加","已参加","申请退款","已退款","取消订单"],allList:[],prodlist:[],activeList:[],activeShowList:[],isLoading:!1,pageSize:8,currentPage:1,labelCode:1100,ifShowPrepareForm:!1,fadeInAnimate:null,indexOfActiveShowList:-1}},methods:{reset(){this.showorder=!1},async setprod(e){let t;console.log("set prod in order manage  :",e),this.prodlist.forEach((o=>{o[0].product==e&&(t=this.prodlist.indexOf(o))})),console.log(t),this.showorder=!0,this.allList=this.prodlist[t],this.activeList=this.allList,this.activeShowList=this.activeList.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize),this.isLoading=!1;for(let o=0;o<this.allList.length;o++){const e={id:this.allList[o].product},t=await(0,Mt.Ne)(e);if(200===t.Code&&"success"===t.msg){0!==t.details.horizontal_shows.length&&this.$set(this.allList[o],"thumbnail",t.details.horizontal_shows[0].url),this.$set(this.allList[o],"topic",t.details.topic);const e=t.details.activity_start_time.split("-"),a=e[2].split("T"),r=`${e[1]}/${a[0]}`,i=t.details.activity_end_time.split("-"),s=i[2].split("T"),n=`${i[1]}/${s[0]}`,c=`${r}-${n}`;this.$set(this.allList[o],"duration",c),this.$set(this.allList[o],"city",t.details.location_city),this.$set(this.allList[o],"controln",0)}}},changeActiveList(e){this.labelCode=e},resetPage(){this.currentPage=1},changeControln(e){0===this.activeShowList[e].controln?this.$set(this.activeShowList[e],"controln",1):this.$set(this.activeShowList[e],"controln",0)},showPrepareForm(e){this.indexOfActiveShowList=e,this.ifShowPrepareForm=!0,this.fadeInAnimate=!0,setTimeout((()=>{this.$refs.prepareForm.refreshScroll()}),220)},getFormData(){return-1===this.indexOfActiveShowList?{}:this.activeShowList[this.indexOfActiveShowList].hasOwnProperty("prepare_form")?(console.log("form data props:"),console.log(this.activeShowList[this.indexOfActiveShowList].prepare_form),this.activeShowList[this.indexOfActiveShowList].prepare_form):(console.log("form data props: empty"),{})},closePrepareForm(){this.fadeInAnimate=!1,setTimeout((()=>{this.ifShowPrepareForm=!1}),150)},async confirmOrder(e){const t=this.activeShowList[e].id;console.log(t);const o=await Rt({id:t});console.log("order",o),(o.Code="success"===o.msg)?(this.$set(this.activeShowList[e],"status",1103),this.activeShowList.splice(e,1)):this.$toast.error("出错",240)},async completeOrder(e){const t=this.activeShowList[e].id;console.log(t);const o=await Kt({id:t});console.log(o),200===o.Code&&o.msg}},watch:{currentPage(e){this.activeShowList=this.activeList.slice(this.pageSize*(e-1),this.pageSize*e),this.$refs.scroll.scrollTo(0,0,200)},labelCode(e,t){if(e!==t){if(1100===e)this.activeList=this.allList;else{const t=this.allList.filter((t=>t.status===e));this.activeList=t}this.activeShowList=this.activeList.slice(0,8),this.currentPage=1,this.$refs.scroll.scrollTo(0,0,200)}}},components:{TabBar:g,Scroll:Z.Z,ContentList:ot,PrepareForm:Bt,EmptyDataPlaceholder:Et.Z,ProductList:T}};const Yt=(0,h.Z)(Qt,[["render",u],["__scopeId","data-v-3983a5fc"]]);var Vt=Yt},61416:function(e,t,o){e.exports=o.p+"static/img/copy_white.5c3b4751.svg"},60534:function(e,t,o){e.exports=o.p+"static/img/hide.ef14df34.png"},57538:function(e,t,o){e.exports=o.p+"static/img/show.9357115a.png"}}]);
//# sourceMappingURL=7415.d215c46b.js.map