"use strict";(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[9692],{35705:function(e,t,a){a.d(t,{dj:function(){return n},MU:function(){return i},cb:function(){return r},SU:function(){return s}});var o=a(30048);function n(e){return(0,o.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/provider/register",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function i(e){return(0,o.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/provider/get",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function r(e){return(0,o.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/web/v1_0_0/workticketaudit/submit",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}function s(e){return(0,o.ZP)({method:"post",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/refundpolicy/all",data:e,auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}})}},29692:function(e,t,a){a.r(t),a.d(t,{default:function(){return V}});var o=a(66252),n=a(3577),i=a(49963),r=a(57042),s=a(87538),c=a(64462),d=a(32022),l=a(8729);const u=e=>((0,o.dD)("data-v-3d7fa701"),e=e(),(0,o.Cn)(),e),m={id:"basicFrame"},f={class:"topleft"},g=u((()=>(0,o._)("img",{src:r,style:{height:"40px",margin:"40px 0 40px 60px"}},null,-1))),p={class:"topright"},h=(0,o.uE)('<div class="rightLink" data-v-3d7fa701><a href="/internal.html/tools/provider/settings/update" data-v-3d7fa701>工作台</a></div><div class="rightLink" data-v-3d7fa701><img src="'+s+'" alt="" style="width:30px;margin-right:10px;" data-v-3d7fa701><a href="/internal.html/provider/agreements" data-v-3d7fa701>规则协议</a></div>',2),v=u((()=>(0,o._)("img",{src:c,alt:"",style:{width:"30px","margin-right":"10px"}},null,-1))),b=(0,o.Uk)("公告通知 "),w={class:"notifySection"},x=u((()=>(0,o._)("div",{class:"title"},"未读消息",-1))),I=u((()=>(0,o._)("div",{class:"divideLine"},null,-1))),_={class:"message-list"},S=u((()=>(0,o._)("div",{class:"divideLine"},null,-1))),y=u((()=>(0,o._)("a",{href:"/internal.html/tools/provider/message"},[(0,o._)("div",{class:"subTitle"},"查看全部")],-1))),k={class:"accountSection"},N=u((()=>(0,o._)("img",{src:d,alt:"",style:{width:"70px","margin-right":"20px"}},null,-1))),A=u((()=>(0,o._)("img",{class:"accountArrow",src:l,style:{"margin-left":"25px"}},null,-1))),P={class:"buttonSection"},C=u((()=>(0,o._)("div",{class:"button"},"修改登录密码",-1))),T={class:"middleSection"},$={class:"left"},D={class:"right"};function L(e,t,a,r,s,c){const d=(0,o.up)("tab-navigation"),l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",f,[g,(0,o._)("div",p,[h,(0,o._)("div",{class:"rightLink",onMouseover:t[0]||(t[0]=e=>s.notiShow=!0),onMouseout:t[1]||(t[1]=e=>s.notiShow=!1)},[v,b,(0,o.wy)((0,o._)("div",w,[x,I,(0,o._)("div",_,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.unreads,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"message",key:e.keyss},(0,n.zw)(e.title),1)))),128))]),S,y],512),[[i.F8,s.notiShow]])],32),(0,o._)("div",k,[N,(0,o._)("div",{style:{display:"flex","flex-firection":"column",cursor:"pointer"},onMouseover:t[3]||(t[3]=e=>c.accountInfoShow()),onMouseout:t[4]||(t[4]=e=>c.accountInfoShut())},[(0,o.Uk)((0,n.zw)(c.getAccount)+" ",1),A,(0,o.wy)((0,o._)("div",P,[(0,o._)("div",{class:"button",onClick:t[2]||(t[2]=(...e)=>c.logout&&c.logout(...e))},"退出登录"),C],512),[[i.F8,s.infoShow]])],32)])])]),(0,o._)("div",T,[(0,o._)("div",$,[(0,o.Wm)(d,{list:s.list,onResetBasicFrameIndex:c.resetBasicFrameIndex,ref:"tabNavigation"},null,8,["list","onResetBasicFrameIndex"])]),(0,o._)("div",D,[(0,o.Wm)(l,null,{default:(0,o.w5)((({Component:e})=>[((0,o.wg)(),(0,o.j4)(o.Ob,null,[((0,o.wg)(),(0,o.j4)((0,o.LL)(e)))],1024))])),_:1})])])])}const U={class:"tab-navigation"},j=["onClick"];function Z(e,t,a,i,r,s){const c=(0,o.up)("tab-navigation-item");return(0,o.wg)(),(0,o.iD)("div",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.list,((e,t)=>((0,o.wg)(),(0,o.j4)(c,{key:t},{default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,n.C_)(["item",t===r.currentIndex?"activeClass":""]),onClick:a=>s.goto(e,t)},[(0,o._)("p",null,(0,n.zw)(e.name),1)],10,j)])),_:2},1024)))),128))])}const F={class:"tab-navigation-item"};function B(e,t,a,n,i,r){return(0,o.wg)(),(0,o.iD)("div",F,[(0,o.WI)(e.$slots,"default")])}var M={name:"e-TabNavigationItem"},z=a(83744);const O=(0,z.Z)(M,[["render",B]]);var W=O,H=a(30048),K=a(35705),R={name:"e-TabNavigation",props:{list:{type:Array,default(){return[]}}},data(){return{currentIndex:2}},created(){},methods:{async goto(e,t){console.log("tab-navigation goto item: ",e,"index: ",t);let a=e.name||"unnamed";if("主理人设置"==a){let e=await(0,H.ZP)({method:"POST",url:"/api/e9b849a515a84327b424af7ccdbf2949/v1_0_0/provider/insurance/info/get",data:{provider_id:Number(window.localStorage.getItem("providerID"))},auth:H.I8,headers:H.A});if(!e.details)return void this.$toast.warn("基本信息未通过审核，无法进入主理人设置",0,500,3e3)}if("商品发布"==a){let e=await(0,K.MU)({user_id:Number(window.localStorage.getItem("userID"))});if(!e.details||"尚未设置"==e.details.name)return void this.$toast.warn("主理人设置未通过审核，无法商品发布",0,500,3e3);console.log("通过商品发布设置 路由守卫")}this.currentIndex=t,window.localStorage.setItem("currentIndex010006",t),this.$emit("resetBasicFrameIndex"),this.$router.replace(e.path).catch((e=>{}))}},components:{TabNavigationItem:W}};const Y=(0,z.Z)(R,[["render",Z],["__scopeId","data-v-d735f138"]]);var E=Y,q=a(19755),G=a.n(q),J={name:"e-ProviderBasicLayout",async created(){this.$nextTick((()=>{if(window.localStorage.getItem("currentIndex010006")){const e=parseInt(window.localStorage.getItem("currentIndex010006"));this.$refs.tabNavigation.currentIndex=e,-1===e&&(this.index=-1)}else window.localStorage.setItem("currentIndex010006",2)}));{let e=window.localStorage.getItem("userID");console.log("message page userid:"),console.log(e);let t=await(0,H.ZP)({method:"POST",url:"/api/e9b849a515a84327b424af7ccdbf2949/mobile/common/v1_0_0/notify/all/active",data:{is_active:!0,platform:10003,recipient_id:e},auth:{username:"NginxAuthUsername16381efa069a90cbde99854c81183036a4bd2e4776eb770fa69740f1c5c06aa4",password:"NginxAuthPassworde0588e3b3c5b240fe3f5fb653d2990f34b52ee0b595acf6553a924b0716cb366"},headers:{"Content-Type":"application/json"}});console.log("noti res: ",t);let a=t.details.notify_generals,o=t.details.notify_users;a=a.map((e=>({keyss:"gen_"+e.id,title:e.title,date:e.date_created,content:e.content.text||"",read:!1}))),o=o.map((e=>({keyss:"user_"+e.id,title:e.title,date:e.date_created,content:e.content.text||"",read:12004==e.status})));let n=[...a,...o];this.meslist=n;let i=[];n.map((e=>{0==e.read&&i.push(e)})),console.log("noti unreads: ",i),this.unreads=i}},mounted(){this.$nextTick((()=>{this.$bus.$on("setCurrentIndex010006To1",(()=>{this.index=999,this.$refs.tabNavigation.currentIndex=1}))}))},data(){return{unreads:[],list:[{name:"全部信息",path:"/tools/provider/message/all"},{name:"系统公告",path:"/tools/provider/message/all"},{name:"公告通知",path:"/tools/provider/message/all"}],index:999,isProvider:!0,infoShow:!1,notiShow:!1}},methods:{reviewProgressClick(){this.index=-1,this.$refs.tabNavigation.currentIndex=-1,window.localStorage.setItem("currentIndex010006",-1),this.$router.replace("/tools/provider/progress/review").catch((e=>{}))},resetBasicFrameIndex(){this.index=999},logout(){window.localStorage.removeItem("list"),window.localStorage.removeItem("order"),window.localStorage.removeItem("currentIndex010006"),window.localStorage.removeItem("userID"),window.localStorage.removeItem("username"),window.localStorage.removeItem("authToken"),window.localStorage.removeItem("isStaff"),window.localStorage.removeItem("isSuperUser"),window.localStorage.removeItem("isProvider"),window.localStorage.removeItem("providerID"),this.$router.replace("/tools/login")},accountInfoShow(){this.infoShow=!0,G()(".accountArrow").css("transform","rotate(180deg)")},accountInfoShut(){this.infoShow=!1,G()(".accountArrow").css("transform","rotate(0deg)")},gotoAgreements(){this.list=[{name:"营探服务商费用核算与结算办法",path:"/ProviderAgreement1"},{name:"营探服务商管理办法",path:""},{name:"营探服务商培训办法",path:""},{name:"营探服务商入驻标准",path:""},{name:"营探服务商收费标准",path:""},{name:"营探交易争议处理规则",path:""},{name:"营探平台诚信保证金管理规定",path:""},{name:"营探搜索排名规则",path:""},{name:"营探网络安全事件应急预案",path:""},{name:"营探信用评价规则",path:""}],G()(".left").css("width","320px"),G()(".left").css("font-size","15px")}},computed:{getAccount(){return window.localStorage.getItem("userName")}},components:{TabNavigation:E}};const Q=(0,z.Z)(J,[["render",L],["__scopeId","data-v-3d7fa701"]]);var V=Q},8729:function(e,t,a){e.exports=a.p+"static/img/up.28774c13.svg"},57042:function(e,t,a){e.exports=a.p+"static/img/camptogoLogo.997228f0.png"},32022:function(e,t,a){e.exports=a.p+"static/img/avatarLogo.81c784e3.png"},64462:function(e,t,a){e.exports=a.p+"static/img/messageLogo.f331db5f.png"},87538:function(e,t,a){e.exports=a.p+"static/img/protocalLogo.a20aba35.png"}}]);
//# sourceMappingURL=9692.c9e84b03.js.map